\hypertarget{structtraccc_1_1alpaka_1_1PopulateGridKernel}{}\doxysection{traccc\+::alpaka\+::Populate\+Grid\+Kernel Struct Reference}
\label{structtraccc_1_1alpaka_1_1PopulateGridKernel}\index{traccc::alpaka::PopulateGridKernel@{traccc::alpaka::PopulateGridKernel}}


Collaboration diagram for traccc\+::alpaka\+::Populate\+Grid\+Kernel\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=214pt]{d9/d2a/structtraccc_1_1alpaka_1_1PopulateGridKernel__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename Acc $>$ }\\A\+L\+P\+A\+K\+A\+\_\+\+F\+N\+\_\+\+A\+CC void \mbox{\hyperlink{structtraccc_1_1alpaka_1_1PopulateGridKernel_ade2aeaeb088cb5909fefa8aee6631656}{operator()}} (Acc const \&acc, const \mbox{\hyperlink{structtraccc_1_1seedfinder__config}{seedfinder\+\_\+config}} \&config, const \mbox{\hyperlink{structtraccc_1_1collection__types_a6ef00cb04070f8f7954499bdaa71ddf0}{spacepoint\+\_\+collection\+\_\+types\+::const\+\_\+view}} \&spacepoints\+\_\+view, \mbox{\hyperlink{namespacetraccc_a5044143e89d8abc4a09e7829850cdfdc}{sp\+\_\+grid\+\_\+view}} $\ast$grid\+\_\+view) const
\end{DoxyCompactItemize}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{structtraccc_1_1alpaka_1_1PopulateGridKernel_ade2aeaeb088cb5909fefa8aee6631656}\label{structtraccc_1_1alpaka_1_1PopulateGridKernel_ade2aeaeb088cb5909fefa8aee6631656}} 
\index{traccc::alpaka::PopulateGridKernel@{traccc::alpaka::PopulateGridKernel}!operator()@{operator()}}
\index{operator()@{operator()}!traccc::alpaka::PopulateGridKernel@{traccc::alpaka::PopulateGridKernel}}
\doxysubsubsection{\texorpdfstring{operator()()}{operator()()}}
{\footnotesize\ttfamily template$<$typename Acc $>$ \\
A\+L\+P\+A\+K\+A\+\_\+\+F\+N\+\_\+\+A\+CC void traccc\+::alpaka\+::\+Populate\+Grid\+Kernel\+::operator() (\begin{DoxyParamCaption}\item[{Acc const \&}]{acc,  }\item[{const \mbox{\hyperlink{structtraccc_1_1seedfinder__config}{seedfinder\+\_\+config}} \&}]{config,  }\item[{const \mbox{\hyperlink{structtraccc_1_1collection__types_a6ef00cb04070f8f7954499bdaa71ddf0}{spacepoint\+\_\+collection\+\_\+types\+::const\+\_\+view}} \&}]{spacepoints\+\_\+view,  }\item[{\mbox{\hyperlink{namespacetraccc_a5044143e89d8abc4a09e7829850cdfdc}{sp\+\_\+grid\+\_\+view}} $\ast$}]{grid\+\_\+view }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Check out if the spacepoint can be used for seeding.
\begin{DoxyCode}{0}
\DoxyCodeLine{51                                        \{}
\DoxyCodeLine{52         \textcolor{keyword}{auto} \textcolor{keyword}{const} globalThreadIdx =}
\DoxyCodeLine{53             ::alpaka::getIdx<::alpaka::Grid, ::alpaka::Threads>(acc)[0u];}
\DoxyCodeLine{54 }
\DoxyCodeLine{55         \textcolor{comment}{// Check if anything needs to be done.}}
\DoxyCodeLine{56         \textcolor{keyword}{const} \mbox{\hyperlink{structtraccc_1_1collection__types_a2c17f74f33da865b1fb58c83e44ecb71}{spacepoint\_collection\_types::const\_device}} spacepoints(}
\DoxyCodeLine{57             spacepoints\_view);}
\DoxyCodeLine{58 }
\DoxyCodeLine{59         \textcolor{keywordflow}{if} (globalThreadIdx >= spacepoints.size()) \{}
\DoxyCodeLine{60             \textcolor{keywordflow}{return};}
\DoxyCodeLine{61         \}}
\DoxyCodeLine{62         \textcolor{keyword}{const} spacepoint sp = spacepoints.at(globalThreadIdx);}
\DoxyCodeLine{63 }
\DoxyCodeLine{65         \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacetraccc_a4e12ff4b9f7297ad771d4fe8ecc17304}{is\_valid\_sp}}(config, sp) !=}
\DoxyCodeLine{66             detray::detail::invalid\_value<size\_t>()) \{}
\DoxyCodeLine{67 }
\DoxyCodeLine{68             \textcolor{comment}{// Set up the spacepoint grid object(s).}}
\DoxyCodeLine{69             \mbox{\hyperlink{namespacetraccc_afe5550543749e1fde57f965020411065}{sp\_grid\_device}} grid(*grid\_view);}
\DoxyCodeLine{70             \textcolor{keyword}{const} sp\_grid\_device::axis\_p0\_type\& phi\_axis = grid.axis\_p0();}
\DoxyCodeLine{71             \textcolor{keyword}{const} sp\_grid\_device::axis\_p1\_type\& z\_axis = grid.axis\_p1();}
\DoxyCodeLine{72 }
\DoxyCodeLine{73             \textcolor{comment}{// Find the grid bin that the spacepoint belongs to.}}
\DoxyCodeLine{74             \textcolor{keyword}{const} internal\_spacepoint<spacepoint> isp(sp, globalThreadIdx,}
\DoxyCodeLine{75                                                       config.beamPos);}
\DoxyCodeLine{76             \textcolor{keyword}{const} std::size\_t bin\_index =}
\DoxyCodeLine{77                 phi\_axis.bin(isp.phi()) + phi\_axis.bins() * z\_axis.bin(isp.z());}
\DoxyCodeLine{78 }
\DoxyCodeLine{79             \textcolor{comment}{// Add the spacepoint to the grid.}}
\DoxyCodeLine{80             grid.bin(bin\_index).push\_back(std::move(isp));}
\DoxyCodeLine{81         \}}
\DoxyCodeLine{82     \}}

\end{DoxyCode}


References traccc\+::seedfinder\+\_\+config\+::beam\+Pos, traccc\+::is\+\_\+valid\+\_\+sp(), traccc\+::internal\+\_\+spacepoint$<$ spacepoint\+\_\+t $>$\+::phi(), and traccc\+::internal\+\_\+spacepoint$<$ spacepoint\+\_\+t $>$\+::z().



The documentation for this struct was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
device/alpaka/src/seeding/\mbox{\hyperlink{device_2alpaka_2src_2seeding_2spacepoint__binning_8cpp}{spacepoint\+\_\+binning.\+cpp}}\end{DoxyCompactItemize}
