\hypertarget{structtraccc_1_1stepped__percentage}{}\doxysection{traccc\+::stepped\+\_\+percentage Struct Reference}
\label{structtraccc_1_1stepped__percentage}\index{traccc::stepped\_percentage@{traccc::stepped\_percentage}}


Matcher based on minimum majority size.  




{\ttfamily \#include $<$track\+\_\+matcher.\+hpp$>$}



Inheritance diagram for traccc\+::stepped\+\_\+percentage\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=231pt]{d7/d4b/structtraccc_1_1stepped__percentage__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for traccc\+::stepped\+\_\+percentage\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=231pt]{d8/d6d/structtraccc_1_1stepped__percentage__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structtraccc_1_1stepped__percentage_a2de525bd52d292bd084168b8ba76ea32}{stepped\+\_\+percentage}} (\mbox{\hyperlink{namespacetraccc_aab82ddc5db54d9ad84b1215320482993}{scalar}} r)
\begin{DoxyCompactList}\small\item\em Construct a new particle matcher. \end{DoxyCompactList}\item 
virtual std\+::string \mbox{\hyperlink{structtraccc_1_1stepped__percentage_a58263762bbeba920284c608c50a499c6}{get\+\_\+name}} () const override final
\begin{DoxyCompactList}\small\item\em Return a human-\/readable name for this matching method. \end{DoxyCompactList}\item 
virtual std\+::optional$<$ uint64\+\_\+t $>$ \mbox{\hyperlink{structtraccc_1_1stepped__percentage_a32f042a5ead63f1edd5999b954487320}{operator()}} (const std\+::vector$<$ std\+::vector$<$ uint64\+\_\+t $>$$>$ \&) const override final
\begin{DoxyCompactList}\small\item\em Determine the most likely particle, if any, for a given seed. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacetraccc_aab82ddc5db54d9ad84b1215320482993}{scalar}} \mbox{\hyperlink{structtraccc_1_1stepped__percentage_a5e3e5e17c77797f30f64c4ef84d5391b}{m\+\_\+min\+\_\+ratio}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Matcher based on minimum majority size. 

This matcher matches a seed to the track with the greatest number of matching spacepoints, with a minimum percentage-\/defined size of the majority. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{structtraccc_1_1stepped__percentage_a2de525bd52d292bd084168b8ba76ea32}\label{structtraccc_1_1stepped__percentage_a2de525bd52d292bd084168b8ba76ea32}} 
\index{traccc::stepped\_percentage@{traccc::stepped\_percentage}!stepped\_percentage@{stepped\_percentage}}
\index{stepped\_percentage@{stepped\_percentage}!traccc::stepped\_percentage@{traccc::stepped\_percentage}}
\doxysubsubsection{\texorpdfstring{stepped\_percentage()}{stepped\_percentage()}}
{\footnotesize\ttfamily traccc\+::stepped\+\_\+percentage\+::stepped\+\_\+percentage (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacetraccc_aab82ddc5db54d9ad84b1215320482993}{scalar}}}]{r }\end{DoxyParamCaption})}



Construct a new particle matcher. 


\begin{DoxyParams}{Parameters}
{\em r} & The minimum ratio in \mbox{[}0, 1\mbox{]} of spacepoints that must belong to the same particle. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{17 : \mbox{\hyperlink{structtraccc_1_1stepped__percentage_a5e3e5e17c77797f30f64c4ef84d5391b}{m\_min\_ratio}}(ratio) \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{structtraccc_1_1stepped__percentage_a58263762bbeba920284c608c50a499c6}\label{structtraccc_1_1stepped__percentage_a58263762bbeba920284c608c50a499c6}} 
\index{traccc::stepped\_percentage@{traccc::stepped\_percentage}!get\_name@{get\_name}}
\index{get\_name@{get\_name}!traccc::stepped\_percentage@{traccc::stepped\_percentage}}
\doxysubsubsection{\texorpdfstring{get\_name()}{get\_name()}}
{\footnotesize\ttfamily std\+::string traccc\+::stepped\+\_\+percentage\+::get\+\_\+name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [final]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Return a human-\/readable name for this matching method. 



Implements \mbox{\hyperlink{structtraccc_1_1track__matcher_af1216f651c5920772142c9dc8eb482b2}{traccc\+::track\+\_\+matcher}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{19                                              \{}
\DoxyCodeLine{20     \textcolor{keywordtype}{char} buffer[512];}
\DoxyCodeLine{21     snprintf(buffer, 512, \textcolor{stringliteral}{"Stepped with â‰¥ \%.1f\%\% similarity"},}
\DoxyCodeLine{22              100.f * \mbox{\hyperlink{structtraccc_1_1stepped__percentage_a5e3e5e17c77797f30f64c4ef84d5391b}{m\_min\_ratio}});}
\DoxyCodeLine{23     \textcolor{keywordflow}{return} std::string(buffer);}
\DoxyCodeLine{24 \}}

\end{DoxyCode}


References m\+\_\+min\+\_\+ratio.

\mbox{\Hypertarget{structtraccc_1_1stepped__percentage_a32f042a5ead63f1edd5999b954487320}\label{structtraccc_1_1stepped__percentage_a32f042a5ead63f1edd5999b954487320}} 
\index{traccc::stepped\_percentage@{traccc::stepped\_percentage}!operator()@{operator()}}
\index{operator()@{operator()}!traccc::stepped\_percentage@{traccc::stepped\_percentage}}
\doxysubsubsection{\texorpdfstring{operator()()}{operator()()}}
{\footnotesize\ttfamily std\+::optional$<$ uint64\+\_\+t $>$ traccc\+::stepped\+\_\+percentage\+::operator() (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ std\+::vector$<$ uint64\+\_\+t $>$$>$ \&}]{v }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [final]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Determine the most likely particle, if any, for a given seed. 


\begin{DoxyParams}{Parameters}
{\em v} & A vector of sets of particle identifiers, such that the outer vector represents the list of spacepoints in a seed, and the inner sets represent the particles that match that spacepoint (usually only one).\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The matched particle identifier, or nothing if no particle matches. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{structtraccc_1_1track__matcher_a46d12c5012cad5e36bfe7a4c8ea92a68}{traccc\+::track\+\_\+matcher}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{27                                                    \{}
\DoxyCodeLine{28     std::multiset<uint64\_t> cnt;}
\DoxyCodeLine{29 }
\DoxyCodeLine{30     \textcolor{comment}{/*}}
\DoxyCodeLine{31 \textcolor{comment}{     * Record all the particle identifiers in a multiset in order to count}}
\DoxyCodeLine{32 \textcolor{comment}{     * them.}}
\DoxyCodeLine{33 \textcolor{comment}{     */}}
\DoxyCodeLine{34     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} std::vector<uint64\_t>\& i : p) \{}
\DoxyCodeLine{35         \textcolor{keywordflow}{for} (uint64\_t j : i) \{}
\DoxyCodeLine{36             cnt.insert(j);}
\DoxyCodeLine{37         \}}
\DoxyCodeLine{38     \}}
\DoxyCodeLine{39 }
\DoxyCodeLine{40     \textcolor{comment}{/*}}
\DoxyCodeLine{41 \textcolor{comment}{     * From the maximum size, decrease the matching count required until we}}
\DoxyCodeLine{42 \textcolor{comment}{     * find a match or we dip below the threshold.}}
\DoxyCodeLine{43 \textcolor{comment}{     */}}
\DoxyCodeLine{44     \textcolor{keywordflow}{for} (std::size\_t n = p.size();}
\DoxyCodeLine{45          n <= p.size() \&\&}
\DoxyCodeLine{46          (\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{float}\textcolor{keyword}{>}(n) / \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{float}\textcolor{keyword}{>}(p.size())) > \mbox{\hyperlink{structtraccc_1_1stepped__percentage_a5e3e5e17c77797f30f64c4ef84d5391b}{m\_min\_ratio}};}
\DoxyCodeLine{47          -\/-\/n) \{}
\DoxyCodeLine{48         \textcolor{keywordflow}{for} (uint64\_t i : cnt) \{}
\DoxyCodeLine{49             \textcolor{keywordflow}{if} (cnt.count(i) == n) \{}
\DoxyCodeLine{50                 \textcolor{keywordflow}{return} \{i\};}
\DoxyCodeLine{51             \}}
\DoxyCodeLine{52         \}}
\DoxyCodeLine{53     \}}
\DoxyCodeLine{54 }
\DoxyCodeLine{55     \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{56 \}}

\end{DoxyCode}


References m\+\_\+min\+\_\+ratio.



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{structtraccc_1_1stepped__percentage_a5e3e5e17c77797f30f64c4ef84d5391b}\label{structtraccc_1_1stepped__percentage_a5e3e5e17c77797f30f64c4ef84d5391b}} 
\index{traccc::stepped\_percentage@{traccc::stepped\_percentage}!m\_min\_ratio@{m\_min\_ratio}}
\index{m\_min\_ratio@{m\_min\_ratio}!traccc::stepped\_percentage@{traccc::stepped\_percentage}}
\doxysubsubsection{\texorpdfstring{m\_min\_ratio}{m\_min\_ratio}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacetraccc_aab82ddc5db54d9ad84b1215320482993}{scalar}} traccc\+::stepped\+\_\+percentage\+::m\+\_\+min\+\_\+ratio\hspace{0.3cm}{\ttfamily [private]}}



Referenced by get\+\_\+name(), and operator()().



The documentation for this struct was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
performance/include/traccc/efficiency/\mbox{\hyperlink{track__matcher_8hpp}{track\+\_\+matcher.\+hpp}}\item 
performance/src/efficiency/\mbox{\hyperlink{track__matcher_8cpp}{track\+\_\+matcher.\+cpp}}\end{DoxyCompactItemize}
