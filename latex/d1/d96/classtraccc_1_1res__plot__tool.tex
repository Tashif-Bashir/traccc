\hypertarget{classtraccc_1_1res__plot__tool}{}\doxysection{traccc\+::res\+\_\+plot\+\_\+tool Class Reference}
\label{classtraccc_1_1res__plot__tool}\index{traccc::res\_plot\_tool@{traccc::res\_plot\_tool}}


{\ttfamily \#include $<$res\+\_\+plot\+\_\+tool.\+hpp$>$}



Collaboration diagram for traccc\+::res\+\_\+plot\+\_\+tool\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=195pt]{d0/d70/classtraccc_1_1res__plot__tool__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structtraccc_1_1res__plot__tool_1_1res__plot__cache}{res\+\_\+plot\+\_\+cache}}
\begin{DoxyCompactList}\small\item\em Nested Cache struct. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classtraccc_1_1res__plot__tool_a823a1876ca040e653c31c797b7e1e5f7}{res\+\_\+plot\+\_\+tool}} (const \mbox{\hyperlink{structtraccc_1_1res__plot__tool__config}{res\+\_\+plot\+\_\+tool\+\_\+config}} \&cfg)
\item 
void \mbox{\hyperlink{classtraccc_1_1res__plot__tool_a7aa1cb8b046dad90abc62b2b1c34cff0}{book}} (\mbox{\hyperlink{structtraccc_1_1res__plot__tool_1_1res__plot__cache}{res\+\_\+plot\+\_\+cache}} \&cache) const
\begin{DoxyCompactList}\small\item\em book the resolution plots \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classtraccc_1_1res__plot__tool_a86693dea48be48e2c328da309d32e315}{fill}} (\mbox{\hyperlink{structtraccc_1_1res__plot__tool_1_1res__plot__cache}{res\+\_\+plot\+\_\+cache}} \&cache, const \mbox{\hyperlink{namespacetraccc_a49b1ec1e09c6b63a918d97428dd51f2e}{bound\+\_\+track\+\_\+parameters}} \&truth\+\_\+param, const \mbox{\hyperlink{namespacetraccc_a49b1ec1e09c6b63a918d97428dd51f2e}{bound\+\_\+track\+\_\+parameters}} \&fit\+\_\+param, const \mbox{\hyperlink{structtraccc_1_1particle}{particle}} \&ptc) const
\begin{DoxyCompactList}\small\item\em fill the cache \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classtraccc_1_1res__plot__tool_a4f1ff5af1ba7610884f7616a6e5a6b17}{write}} (\mbox{\hyperlink{structtraccc_1_1res__plot__tool_1_1res__plot__cache}{res\+\_\+plot\+\_\+cache}} \&cache) const
\begin{DoxyCompactList}\small\item\em write the resolution plots into R\+O\+OT \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structtraccc_1_1res__plot__tool__config}{res\+\_\+plot\+\_\+tool\+\_\+config}} \mbox{\hyperlink{classtraccc_1_1res__plot__tool_a21c89289d87fc44999ea65cbf2206063}{m\+\_\+cfg}}
\begin{DoxyCompactList}\small\item\em The Config class. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classtraccc_1_1res__plot__tool_a823a1876ca040e653c31c797b7e1e5f7}\label{classtraccc_1_1res__plot__tool_a823a1876ca040e653c31c797b7e1e5f7}} 
\index{traccc::res\_plot\_tool@{traccc::res\_plot\_tool}!res\_plot\_tool@{res\_plot\_tool}}
\index{res\_plot\_tool@{res\_plot\_tool}!traccc::res\_plot\_tool@{traccc::res\_plot\_tool}}
\doxysubsubsection{\texorpdfstring{res\_plot\_tool()}{res\_plot\_tool()}}
{\footnotesize\ttfamily traccc\+::res\+\_\+plot\+\_\+tool\+::res\+\_\+plot\+\_\+tool (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structtraccc_1_1res__plot__tool__config}{res\+\_\+plot\+\_\+tool\+\_\+config}} \&}]{cfg }\end{DoxyParamCaption})}

Constructor


\begin{DoxyParams}{Parameters}
{\em cfg} & Configuration struct \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{22 : \mbox{\hyperlink{classtraccc_1_1res__plot__tool_a21c89289d87fc44999ea65cbf2206063}{m\_cfg}}(cfg) \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classtraccc_1_1res__plot__tool_a7aa1cb8b046dad90abc62b2b1c34cff0}\label{classtraccc_1_1res__plot__tool_a7aa1cb8b046dad90abc62b2b1c34cff0}} 
\index{traccc::res\_plot\_tool@{traccc::res\_plot\_tool}!book@{book}}
\index{book@{book}!traccc::res\_plot\_tool@{traccc::res\_plot\_tool}}
\doxysubsubsection{\texorpdfstring{book()}{book()}}
{\footnotesize\ttfamily void traccc\+::res\+\_\+plot\+\_\+tool\+::book (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structtraccc_1_1res__plot__tool_1_1res__plot__cache}{res\+\_\+plot\+\_\+cache}} \&}]{cache }\end{DoxyParamCaption}) const}



book the resolution plots 


\begin{DoxyParams}{Parameters}
{\em cache} & the cache for resolution plots \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{24                                                     \{}
\DoxyCodeLine{25 }
\DoxyCodeLine{26     plot\_helpers::binning b\_pull = \mbox{\hyperlink{classtraccc_1_1res__plot__tool_a21c89289d87fc44999ea65cbf2206063}{m\_cfg}}.\mbox{\hyperlink{structtraccc_1_1res__plot__tool__config_a1b09806d17611deb2e9bbee63639972e}{var\_binning}}.at(\textcolor{stringliteral}{"pull"});}
\DoxyCodeLine{27     plot\_helpers::binning b\_eta = \mbox{\hyperlink{classtraccc_1_1res__plot__tool_a21c89289d87fc44999ea65cbf2206063}{m\_cfg}}.\mbox{\hyperlink{structtraccc_1_1res__plot__tool__config_a1b09806d17611deb2e9bbee63639972e}{var\_binning}}.at(\textcolor{stringliteral}{"Eta"});}
\DoxyCodeLine{28     plot\_helpers::binning b\_pT = \mbox{\hyperlink{classtraccc_1_1res__plot__tool_a21c89289d87fc44999ea65cbf2206063}{m\_cfg}}.\mbox{\hyperlink{structtraccc_1_1res__plot__tool__config_a1b09806d17611deb2e9bbee63639972e}{var\_binning}}.at(\textcolor{stringliteral}{"Pt"});}
\DoxyCodeLine{29 }
\DoxyCodeLine{30     \textcolor{comment}{// Avoid unused variable warnings when building the code without ROOT.}}
\DoxyCodeLine{31     (void)cache;}
\DoxyCodeLine{32     (void)b\_pull;}
\DoxyCodeLine{33     (void)b\_eta;}
\DoxyCodeLine{34     (void)b\_pT;}
\DoxyCodeLine{35 }
\DoxyCodeLine{36     \textcolor{keywordflow}{for} (std::size\_t idx = 0; idx < \mbox{\hyperlink{classtraccc_1_1res__plot__tool_a21c89289d87fc44999ea65cbf2206063}{m\_cfg}}.\mbox{\hyperlink{structtraccc_1_1res__plot__tool__config_ab0c72126f1aff2aa9e0d9f0c56a215d6}{param\_names}}.size(); idx++) \{}
\DoxyCodeLine{37         std::string par\_name = \mbox{\hyperlink{classtraccc_1_1res__plot__tool_a21c89289d87fc44999ea65cbf2206063}{m\_cfg}}.\mbox{\hyperlink{structtraccc_1_1res__plot__tool__config_ab0c72126f1aff2aa9e0d9f0c56a215d6}{param\_names}}.at(idx);}
\DoxyCodeLine{38 }
\DoxyCodeLine{39         \textcolor{comment}{// Binning for residual is parameter dependent}}
\DoxyCodeLine{40         std::string par\_residual = \textcolor{stringliteral}{"residual\_"} + par\_name;}
\DoxyCodeLine{41         plot\_helpers::binning b\_residual = \mbox{\hyperlink{classtraccc_1_1res__plot__tool_a21c89289d87fc44999ea65cbf2206063}{m\_cfg}}.\mbox{\hyperlink{structtraccc_1_1res__plot__tool__config_a1b09806d17611deb2e9bbee63639972e}{var\_binning}}.at(par\_residual);}
\DoxyCodeLine{42 }
\DoxyCodeLine{43         \textcolor{comment}{// Avoid unused variable warnings when building the code without ROOT.}}
\DoxyCodeLine{44         (void)b\_residual;}
\DoxyCodeLine{45 }
\DoxyCodeLine{46 \textcolor{preprocessor}{\#ifdef TRACCC\_HAVE\_ROOT}}
\DoxyCodeLine{47         \textcolor{comment}{// residual distributions}}
\DoxyCodeLine{48         cache.residuals[par\_name] = plot\_helpers::book\_histo(}
\DoxyCodeLine{49             Form(\textcolor{stringliteral}{"res\_\%s"}, par\_name.c\_str()),}
\DoxyCodeLine{50             Form(\textcolor{stringliteral}{"Residual of \%s"}, par\_name.c\_str()), b\_residual);}
\DoxyCodeLine{51 }
\DoxyCodeLine{52         \textcolor{comment}{// pull distritutions}}
\DoxyCodeLine{53         cache.pulls[par\_name] = plot\_helpers::book\_histo(}
\DoxyCodeLine{54             Form(\textcolor{stringliteral}{"pull\_\%s"}, par\_name.c\_str()),}
\DoxyCodeLine{55             Form(\textcolor{stringliteral}{"Pull of \%s"}, par\_name.c\_str()), b\_pull);}
\DoxyCodeLine{56 }
\DoxyCodeLine{57         \textcolor{comment}{// resolution vs. eta plots}}
\DoxyCodeLine{58         cache.resolutions\_eta[par\_name] = plot\_helpers::book\_histo(}
\DoxyCodeLine{59             Form(\textcolor{stringliteral}{"resolution\_\%s\_vs\_eta"}, par\_name.c\_str()),}
\DoxyCodeLine{60             Form(\textcolor{stringliteral}{"Resolution of \%s vs. eta"}, par\_name.c\_str()), b\_eta);}
\DoxyCodeLine{61 }
\DoxyCodeLine{62         \textcolor{comment}{// resolution vs. pT plots}}
\DoxyCodeLine{63         cache.resolutions\_pT[par\_name] = plot\_helpers::book\_histo(}
\DoxyCodeLine{64             Form(\textcolor{stringliteral}{"resolution\_\%s\_vs\_pT"}, par\_name.c\_str()),}
\DoxyCodeLine{65             Form(\textcolor{stringliteral}{"Resolution of \%s vs. pT"}, par\_name.c\_str()), b\_pT);}
\DoxyCodeLine{66 }
\DoxyCodeLine{67         \textcolor{comment}{// residuals vs. eta plots}}
\DoxyCodeLine{68         cache.residuals\_eta[par\_name] = plot\_helpers::book\_histo(}
\DoxyCodeLine{69             Form(\textcolor{stringliteral}{"residual\_\%s\_vs\_eta"}, par\_name.c\_str()),}
\DoxyCodeLine{70             Form(\textcolor{stringliteral}{"Residual of \%s vs. eta"}, par\_name.c\_str()), b\_eta,}
\DoxyCodeLine{71             b\_residual);}
\DoxyCodeLine{72 }
\DoxyCodeLine{73         \textcolor{comment}{// residuals vs. pT plots}}
\DoxyCodeLine{74         cache.residuals\_pT[par\_name] = plot\_helpers::book\_histo(}
\DoxyCodeLine{75             Form(\textcolor{stringliteral}{"residual\_\%s\_vs\_pT"}, par\_name.c\_str()),}
\DoxyCodeLine{76             Form(\textcolor{stringliteral}{"Residual of \%s vs. pT"}, par\_name.c\_str()), b\_pT, b\_residual);}
\DoxyCodeLine{77 }
\DoxyCodeLine{78         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < b\_eta.n\_bins; i++) \{}
\DoxyCodeLine{79             cache.residuals\_per\_eta[par\_name][i] = plot\_helpers::book\_histo(}
\DoxyCodeLine{80                 Form(\textcolor{stringliteral}{"residual\_\%s\_at\_\%d\_th\_eta"}, par\_name.c\_str(), i),}
\DoxyCodeLine{81                 Form(\textcolor{stringliteral}{"Residual of \%s at \%d th eta"}, par\_name.c\_str(), i),}
\DoxyCodeLine{82                 b\_residual);}
\DoxyCodeLine{83         \}}
\DoxyCodeLine{84 }
\DoxyCodeLine{85         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < b\_pT.n\_bins; i++) \{}
\DoxyCodeLine{86             cache.residuals\_per\_pT[par\_name][i] = plot\_helpers::book\_histo(}
\DoxyCodeLine{87                 Form(\textcolor{stringliteral}{"residual\_\%s\_at\_\%d\_th\_pT"}, par\_name.c\_str(), i),}
\DoxyCodeLine{88                 Form(\textcolor{stringliteral}{"Residual of \%s at \%d th pT"}, par\_name.c\_str(), i),}
\DoxyCodeLine{89                 b\_residual);}
\DoxyCodeLine{90         \}}
\DoxyCodeLine{91 \textcolor{preprocessor}{\#endif  // TRACCC\_HAVE\_ROOT}}
\DoxyCodeLine{92     \}}
\DoxyCodeLine{93 \}}

\end{DoxyCode}


References m\+\_\+cfg, traccc\+::plot\+\_\+helpers\+::binning\+::n\+\_\+bins, traccc\+::res\+\_\+plot\+\_\+tool\+\_\+config\+::param\+\_\+names, and traccc\+::res\+\_\+plot\+\_\+tool\+\_\+config\+::var\+\_\+binning.

\mbox{\Hypertarget{classtraccc_1_1res__plot__tool_a86693dea48be48e2c328da309d32e315}\label{classtraccc_1_1res__plot__tool_a86693dea48be48e2c328da309d32e315}} 
\index{traccc::res\_plot\_tool@{traccc::res\_plot\_tool}!fill@{fill}}
\index{fill@{fill}!traccc::res\_plot\_tool@{traccc::res\_plot\_tool}}
\doxysubsubsection{\texorpdfstring{fill()}{fill()}}
{\footnotesize\ttfamily void traccc\+::res\+\_\+plot\+\_\+tool\+::fill (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structtraccc_1_1res__plot__tool_1_1res__plot__cache}{res\+\_\+plot\+\_\+cache}} \&}]{cache,  }\item[{const \mbox{\hyperlink{namespacetraccc_a49b1ec1e09c6b63a918d97428dd51f2e}{bound\+\_\+track\+\_\+parameters}} \&}]{truth\+\_\+param,  }\item[{const \mbox{\hyperlink{namespacetraccc_a49b1ec1e09c6b63a918d97428dd51f2e}{bound\+\_\+track\+\_\+parameters}} \&}]{fit\+\_\+param,  }\item[{const \mbox{\hyperlink{structtraccc_1_1particle}{particle}} \&}]{ptc }\end{DoxyParamCaption}) const}



fill the cache 


\begin{DoxyParams}{Parameters}
{\em cache} & the cache for resolution plots \\
\hline
{\em truth\+\_\+param} & truth track parameter \\
\hline
{\em fit\+\_\+param} & fitted track parameter \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{98                                                     \{}
\DoxyCodeLine{99 }
\DoxyCodeLine{100     \textcolor{comment}{// Find index of eta and pT for resolution histogram}}
\DoxyCodeLine{101     \textcolor{keyword}{const} \mbox{\hyperlink{namespacetraccc_aab82ddc5db54d9ad84b1215320482993}{scalar}} eta = getter::eta(ptc.mom);}
\DoxyCodeLine{102     \textcolor{keyword}{const} \mbox{\hyperlink{namespacetraccc_aab82ddc5db54d9ad84b1215320482993}{scalar}} pT = std::hypot(ptc.mom[0], ptc.mom[1]);}
\DoxyCodeLine{103 }
\DoxyCodeLine{104     \textcolor{comment}{// Avoid unused variable warnings when building the code without ROOT.}}
\DoxyCodeLine{105     (void)cache;}
\DoxyCodeLine{106     (void)eta;}
\DoxyCodeLine{107     (void)pT;}
\DoxyCodeLine{108 }
\DoxyCodeLine{109     \textcolor{keywordflow}{for} (std::size\_t idx = 0; idx < \mbox{\hyperlink{classtraccc_1_1res__plot__tool_a21c89289d87fc44999ea65cbf2206063}{m\_cfg}}.\mbox{\hyperlink{structtraccc_1_1res__plot__tool__config_ab0c72126f1aff2aa9e0d9f0c56a215d6}{param\_names}}.size(); idx++) \{}
\DoxyCodeLine{110         std::string par\_name = \mbox{\hyperlink{classtraccc_1_1res__plot__tool_a21c89289d87fc44999ea65cbf2206063}{m\_cfg}}.\mbox{\hyperlink{structtraccc_1_1res__plot__tool__config_ab0c72126f1aff2aa9e0d9f0c56a215d6}{param\_names}}.at(idx);}
\DoxyCodeLine{111 }
\DoxyCodeLine{112         \mbox{\hyperlink{namespacetraccc_aab82ddc5db54d9ad84b1215320482993}{scalar}} residual = 0.f;}
\DoxyCodeLine{113         \mbox{\hyperlink{namespacetraccc_aab82ddc5db54d9ad84b1215320482993}{scalar}} pull = 0.f;}
\DoxyCodeLine{114 }
\DoxyCodeLine{115         \textcolor{keywordflow}{if} (idx < \mbox{\hyperlink{namespacetraccc_a65f3496a079e9bdcffaf1d62a5fa4151af60fe71ca99e61d0a0d70fb431aabc04}{e\_bound\_size}}) \{}
\DoxyCodeLine{116             residual = getter::element(fit\_param.vector(), idx, 0) -\/}
\DoxyCodeLine{117                        getter::element(truth\_param.vector(), idx, 0);}
\DoxyCodeLine{118             pull = residual /}
\DoxyCodeLine{119                    std::sqrt(getter::element(fit\_param.covariance(), idx, idx));}
\DoxyCodeLine{120         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (par\_name == \textcolor{stringliteral}{"qopT"}) \{}
\DoxyCodeLine{121             residual = fit\_param.qopT() -\/ truth\_param.qopT();}
\DoxyCodeLine{122 }
\DoxyCodeLine{123             \textcolor{keyword}{const} \mbox{\hyperlink{namespacetraccc_aab82ddc5db54d9ad84b1215320482993}{scalar}} sigma =}
\DoxyCodeLine{124                 std::sqrt(getter::element(fit\_param.covariance(),}
\DoxyCodeLine{125                                           \mbox{\hyperlink{namespacetraccc_a65f3496a079e9bdcffaf1d62a5fa4151a6d667690a6d83582fbc41229249c0afa}{e\_bound\_qoverp}}, \mbox{\hyperlink{namespacetraccc_a65f3496a079e9bdcffaf1d62a5fa4151a6d667690a6d83582fbc41229249c0afa}{e\_bound\_qoverp}})) /}
\DoxyCodeLine{126                 std::sin(fit\_param.theta());}
\DoxyCodeLine{127             pull = residual / sigma;}
\DoxyCodeLine{128         \}}
\DoxyCodeLine{129 }
\DoxyCodeLine{130         \textcolor{comment}{// Avoid unused variable warnings when building the code without ROOT.}}
\DoxyCodeLine{131         (void)residual;}
\DoxyCodeLine{132         (void)pull;}
\DoxyCodeLine{133 }
\DoxyCodeLine{134 \textcolor{preprocessor}{\#ifdef TRACCC\_HAVE\_ROOT}}
\DoxyCodeLine{135         \textcolor{keyword}{const} \textcolor{keyword}{auto} eta\_idx =}
\DoxyCodeLine{136             std::min(cache.resolutions\_eta[par\_name]-\/>FindBin(eta) -\/ 1,}
\DoxyCodeLine{137                      cache.resolutions\_eta[par\_name]-\/>GetNbinsX() -\/ 1);}
\DoxyCodeLine{138         \textcolor{keyword}{const} \textcolor{keyword}{auto} pT\_idx =}
\DoxyCodeLine{139             std::min(cache.resolutions\_pT[par\_name]-\/>FindBin(pT) -\/ 1,}
\DoxyCodeLine{140                      cache.resolutions\_pT[par\_name]-\/>GetNbinsX() -\/ 1);}
\DoxyCodeLine{141 }
\DoxyCodeLine{142         cache.residuals.at(par\_name)-\/>Fill(residual);}
\DoxyCodeLine{143         cache.pulls.at(par\_name)-\/>Fill(pull);}
\DoxyCodeLine{144         cache.residuals\_eta.at(par\_name)-\/>Fill(eta, residual);}
\DoxyCodeLine{145         cache.residuals\_pT.at(par\_name)-\/>Fill(pT, residual);}
\DoxyCodeLine{146         cache.residuals\_per\_eta.at(par\_name).at(eta\_idx)-\/>Fill(residual);}
\DoxyCodeLine{147         cache.residuals\_per\_pT.at(par\_name).at(pT\_idx)-\/>Fill(residual);}
\DoxyCodeLine{148 \textcolor{preprocessor}{\#endif  // TRACCC\_HAVE\_ROOT}}
\DoxyCodeLine{149     \}}
\DoxyCodeLine{150 \}}

\end{DoxyCode}


References traccc\+::e\+\_\+bound\+\_\+qoverp, traccc\+::e\+\_\+bound\+\_\+size, m\+\_\+cfg, traccc\+::particle\+::mom, and traccc\+::res\+\_\+plot\+\_\+tool\+\_\+config\+::param\+\_\+names.

\mbox{\Hypertarget{classtraccc_1_1res__plot__tool_a4f1ff5af1ba7610884f7616a6e5a6b17}\label{classtraccc_1_1res__plot__tool_a4f1ff5af1ba7610884f7616a6e5a6b17}} 
\index{traccc::res\_plot\_tool@{traccc::res\_plot\_tool}!write@{write}}
\index{write@{write}!traccc::res\_plot\_tool@{traccc::res\_plot\_tool}}
\doxysubsubsection{\texorpdfstring{write()}{write()}}
{\footnotesize\ttfamily void traccc\+::res\+\_\+plot\+\_\+tool\+::write (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structtraccc_1_1res__plot__tool_1_1res__plot__cache}{res\+\_\+plot\+\_\+cache}} \&}]{cache }\end{DoxyParamCaption}) const}



write the resolution plots into R\+O\+OT 


\begin{DoxyParams}{Parameters}
{\em cache} & the cache for resolution plots \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{152                                                      \{}
\DoxyCodeLine{153 }
\DoxyCodeLine{154     \textcolor{comment}{// Avoid unused variable warnings when building the code without ROOT.}}
\DoxyCodeLine{155     (void)cache;}
\DoxyCodeLine{156 }
\DoxyCodeLine{157 \textcolor{preprocessor}{\#ifdef TRACCC\_HAVE\_ROOT}}
\DoxyCodeLine{158     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& residual : cache.residuals) \{}
\DoxyCodeLine{159         residual.second-\/>Write();}
\DoxyCodeLine{160     \}}
\DoxyCodeLine{161     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& pull : cache.pulls) \{}
\DoxyCodeLine{162         pull.second-\/>Write();}
\DoxyCodeLine{163     \}}
\DoxyCodeLine{164     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& residual : cache.residuals\_eta) \{}
\DoxyCodeLine{165         residual.second-\/>Write();}
\DoxyCodeLine{166     \}}
\DoxyCodeLine{167     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& residual : cache.residuals\_pT) \{}
\DoxyCodeLine{168         residual.second-\/>Write();}
\DoxyCodeLine{169     \}}
\DoxyCodeLine{170 }
\DoxyCodeLine{171     \textcolor{keyword}{auto} create\_resolution\_graph = [](std::shared\_ptr<TH1> H, \textcolor{keyword}{auto} residuals,}
\DoxyCodeLine{172                                       \textcolor{keyword}{const} \textcolor{keywordtype}{char}* x\_axis\_title,}
\DoxyCodeLine{173                                       \textcolor{keyword}{const} \textcolor{keywordtype}{char}* y\_axis\_title) \{}
\DoxyCodeLine{174         \textcolor{keyword}{const} \textcolor{keyword}{auto} n\_bins = H-\/>GetNbinsX();}
\DoxyCodeLine{175 }
\DoxyCodeLine{176         std::vector<float> sigmas;}
\DoxyCodeLine{177 }
\DoxyCodeLine{178         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < n\_bins; i++) \{}
\DoxyCodeLine{179             \textcolor{keyword}{auto}\& data = residuals[i];}
\DoxyCodeLine{180 }
\DoxyCodeLine{181             \textcolor{comment}{// When there is no entry}}
\DoxyCodeLine{182             \textcolor{keywordflow}{if} (data-\/>GetEntries() == 0) \{}
\DoxyCodeLine{183                 H-\/>SetBinContent(i, 0);}
\DoxyCodeLine{184                 sigmas.push\_back(0);}
\DoxyCodeLine{185                 \textcolor{keywordflow}{continue};}
\DoxyCodeLine{186             \}}
\DoxyCodeLine{187 }
\DoxyCodeLine{188             \textcolor{comment}{// Function used for the fit.}}
\DoxyCodeLine{189             TF1 gaus\{\textcolor{stringliteral}{"gaus"}, \textcolor{stringliteral}{"gaus"}, -\/1., 1.\};}
\DoxyCodeLine{190             \textcolor{keywordtype}{double} fit\_par[3];}
\DoxyCodeLine{191             \textcolor{keyword}{auto} res = data-\/>Fit(\textcolor{stringliteral}{"gaus"}, \textcolor{stringliteral}{"Q0S"});}
\DoxyCodeLine{192             gaus.GetParameters(\&fit\_par[0]);}
\DoxyCodeLine{193             H-\/>SetBinContent(i + 1, fit\_par[2]);}
\DoxyCodeLine{194             sigmas.push\_back(gaus.GetParError(2));}
\DoxyCodeLine{195         \}}
\DoxyCodeLine{196 }
\DoxyCodeLine{197         std::unique\_ptr<TGraphErrors> G =}
\DoxyCodeLine{198             std::make\_unique<TGraphErrors>(H.get());}
\DoxyCodeLine{199 }
\DoxyCodeLine{200         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < n\_bins; i++) \{}
\DoxyCodeLine{201             G-\/>SetPointError(i, H-\/>GetBinWidth(i) / 2.f, sigmas[i]);}
\DoxyCodeLine{202         \}}
\DoxyCodeLine{203         G-\/>SetName(H-\/>GetName());}
\DoxyCodeLine{204         G-\/>SetMinimum(1e-\/5);}
\DoxyCodeLine{205         G-\/>SetMaximum(1e-\/1);}
\DoxyCodeLine{206         G-\/>GetHistogram()-\/>GetYaxis()-\/>SetMaxDigits(2);}
\DoxyCodeLine{207         G-\/>GetHistogram()-\/>GetXaxis()-\/>SetTitle(x\_axis\_title);}
\DoxyCodeLine{208         G-\/>GetHistogram()-\/>GetYaxis()-\/>SetTitle(y\_axis\_title);}
\DoxyCodeLine{209 }
\DoxyCodeLine{210         \textcolor{keywordflow}{return} G;}
\DoxyCodeLine{211     \};}
\DoxyCodeLine{212 }
\DoxyCodeLine{213     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& resolution : cache.resolutions\_eta) \{}
\DoxyCodeLine{214         \textcolor{keyword}{const} \textcolor{keyword}{auto}\& par\_name = resolution.first;}
\DoxyCodeLine{215         \textcolor{keyword}{auto}\& H = resolution.second;}
\DoxyCodeLine{216 }
\DoxyCodeLine{217         plot\_helpers::binning binning =}
\DoxyCodeLine{218             \mbox{\hyperlink{classtraccc_1_1res__plot__tool_a21c89289d87fc44999ea65cbf2206063}{m\_cfg}}.\mbox{\hyperlink{structtraccc_1_1res__plot__tool__config_a1b09806d17611deb2e9bbee63639972e}{var\_binning}}.at(\textcolor{stringliteral}{"resolution\_"} + par\_name);}
\DoxyCodeLine{219 }
\DoxyCodeLine{220         \textcolor{keyword}{auto} G =}
\DoxyCodeLine{221             create\_resolution\_graph(H, cache.residuals\_per\_eta.at(par\_name),}
\DoxyCodeLine{222                                     \textcolor{stringliteral}{"\#eta"}, binning.title.c\_str());}
\DoxyCodeLine{223 }
\DoxyCodeLine{224         G-\/>Write();}
\DoxyCodeLine{225     \}}
\DoxyCodeLine{226 }
\DoxyCodeLine{227     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& resolution : cache.resolutions\_pT) \{}
\DoxyCodeLine{228         \textcolor{keyword}{const} \textcolor{keyword}{auto}\& par\_name = resolution.first;}
\DoxyCodeLine{229         \textcolor{keyword}{auto}\& H = resolution.second;}
\DoxyCodeLine{230 }
\DoxyCodeLine{231         plot\_helpers::binning binning =}
\DoxyCodeLine{232             \mbox{\hyperlink{classtraccc_1_1res__plot__tool_a21c89289d87fc44999ea65cbf2206063}{m\_cfg}}.\mbox{\hyperlink{structtraccc_1_1res__plot__tool__config_a1b09806d17611deb2e9bbee63639972e}{var\_binning}}.at(\textcolor{stringliteral}{"resolution\_"} + par\_name);}
\DoxyCodeLine{233 }
\DoxyCodeLine{234         \textcolor{keyword}{auto} G =}
\DoxyCodeLine{235             create\_resolution\_graph(H, cache.residuals\_per\_pT.at(par\_name),}
\DoxyCodeLine{236                                     \textcolor{stringliteral}{"p\_\{T\} [GeV/c]"}, binning.title.c\_str());}
\DoxyCodeLine{237 }
\DoxyCodeLine{238         G-\/>Write();}
\DoxyCodeLine{239     \}}
\DoxyCodeLine{240 }
\DoxyCodeLine{241 \textcolor{preprocessor}{\#endif  // TRACCC\_HAVE\_ROOT}}
\DoxyCodeLine{242 \}}

\end{DoxyCode}


References m\+\_\+cfg, traccc\+::plot\+\_\+helpers\+::binning\+::title, and traccc\+::res\+\_\+plot\+\_\+tool\+\_\+config\+::var\+\_\+binning.



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classtraccc_1_1res__plot__tool_a21c89289d87fc44999ea65cbf2206063}\label{classtraccc_1_1res__plot__tool_a21c89289d87fc44999ea65cbf2206063}} 
\index{traccc::res\_plot\_tool@{traccc::res\_plot\_tool}!m\_cfg@{m\_cfg}}
\index{m\_cfg@{m\_cfg}!traccc::res\_plot\_tool@{traccc::res\_plot\_tool}}
\doxysubsubsection{\texorpdfstring{m\_cfg}{m\_cfg}}
{\footnotesize\ttfamily \mbox{\hyperlink{structtraccc_1_1res__plot__tool__config}{res\+\_\+plot\+\_\+tool\+\_\+config}} traccc\+::res\+\_\+plot\+\_\+tool\+::m\+\_\+cfg\hspace{0.3cm}{\ttfamily [private]}}



The Config class. 



Referenced by book(), fill(), and write().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
performance/src/resolution/\mbox{\hyperlink{res__plot__tool_8hpp}{res\+\_\+plot\+\_\+tool.\+hpp}}\item 
performance/src/resolution/\mbox{\hyperlink{res__plot__tool_8cpp}{res\+\_\+plot\+\_\+tool.\+cpp}}\end{DoxyCompactItemize}
