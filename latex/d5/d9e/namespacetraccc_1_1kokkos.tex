\hypertarget{namespacetraccc_1_1kokkos}{}\doxysection{traccc\+::kokkos Namespace Reference}
\label{namespacetraccc_1_1kokkos}\index{traccc::kokkos@{traccc::kokkos}}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classtraccc_1_1kokkos_1_1spacepoint__binning}{spacepoint\+\_\+binning}}
\begin{DoxyCompactList}\small\item\em Spacepoing binning executed on a Kokkos device. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{namespacetraccc_1_1kokkos_a631b3bfbde9594e538594cbc73528b2f}{Exec\+Space}} = Mem\+Space\+::execution\+\_\+space
\item 
using \mbox{\hyperlink{namespacetraccc_1_1kokkos_a4feb5b452d977e130a82861e686c4052}{range\+\_\+policy}} = Kokkos\+::\+Range\+Policy$<$ \mbox{\hyperlink{namespacetraccc_1_1kokkos_a631b3bfbde9594e538594cbc73528b2f}{Exec\+Space}} $>$
\item 
typedef Kokkos\+::\+Team\+Policy$<$ \mbox{\hyperlink{namespacetraccc_1_1kokkos_a631b3bfbde9594e538594cbc73528b2f}{Exec\+Space}} $>$ \mbox{\hyperlink{namespacetraccc_1_1kokkos_a43ac393f6778d311ed5653ba3e46d44f}{team\+\_\+policy}}
\item 
typedef Kokkos\+::\+Team\+Policy$<$ \mbox{\hyperlink{namespacetraccc_1_1kokkos_a631b3bfbde9594e538594cbc73528b2f}{Exec\+Space}} $>$\+::\mbox{\hyperlink{namespacetraccc_1_1kokkos_aa85b5e9d0a0b722037f7366d3162b43f}{member\+\_\+type}} \mbox{\hyperlink{namespacetraccc_1_1kokkos_aa85b5e9d0a0b722037f7366d3162b43f}{member\+\_\+type}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
vecmem\+::data\+::vector\+\_\+buffer$<$ \mbox{\hyperlink{namespacetraccc_1_1device_aec5610a925cef95697843cc4e8b38bcb}{device\+::prefix\+\_\+sum\+\_\+element\+\_\+t}} $>$ \mbox{\hyperlink{namespacetraccc_1_1kokkos_ac6275a34fac6619caab789d57a5c0209}{make\+\_\+prefix\+\_\+sum\+\_\+buff}} (const std\+::vector$<$ \mbox{\hyperlink{namespacetraccc_1_1device_ade298ff55a1bdb496e412262cdb66433}{device\+::prefix\+\_\+sum\+\_\+size\+\_\+t}} $>$ \&sizes, vecmem\+::copy \&copy, const \mbox{\hyperlink{structtraccc_1_1memory__resource}{traccc\+::memory\+\_\+resource}} \&mr)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
T\+R\+A\+C\+CC library, part of the A\+C\+TS project (R\&D line)

(c) 2021-\/2022 C\+E\+RN for the benefit of the A\+C\+TS project

Mozilla Public License Version 2.\+0

T\+R\+A\+C\+CC library, part of the A\+C\+TS project (R\&D line)

(c) 2021 C\+E\+RN for the benefit of the A\+C\+TS project

Mozilla Public License Version 2.\+0

T\+R\+A\+C\+CC library, part of the A\+C\+TS project (R\&D line)

(c) 2022 C\+E\+RN for the benefit of the A\+C\+TS project

Mozilla Public License Version 2.\+0 

\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{namespacetraccc_1_1kokkos_a631b3bfbde9594e538594cbc73528b2f}\label{namespacetraccc_1_1kokkos_a631b3bfbde9594e538594cbc73528b2f}} 
\index{traccc::kokkos@{traccc::kokkos}!ExecSpace@{ExecSpace}}
\index{ExecSpace@{ExecSpace}!traccc::kokkos@{traccc::kokkos}}
\doxysubsubsection{\texorpdfstring{ExecSpace}{ExecSpace}}
{\footnotesize\ttfamily using \mbox{\hyperlink{namespacetraccc_1_1kokkos_a631b3bfbde9594e538594cbc73528b2f}{traccc\+::kokkos\+::\+Exec\+Space}} = typedef Mem\+Space\+::execution\+\_\+space}

\mbox{\Hypertarget{namespacetraccc_1_1kokkos_aa85b5e9d0a0b722037f7366d3162b43f}\label{namespacetraccc_1_1kokkos_aa85b5e9d0a0b722037f7366d3162b43f}} 
\index{traccc::kokkos@{traccc::kokkos}!member\_type@{member\_type}}
\index{member\_type@{member\_type}!traccc::kokkos@{traccc::kokkos}}
\doxysubsubsection{\texorpdfstring{member\_type}{member\_type}}
{\footnotesize\ttfamily typedef Kokkos\+::\+Team\+Policy$<$\mbox{\hyperlink{namespacetraccc_1_1kokkos_a631b3bfbde9594e538594cbc73528b2f}{Exec\+Space}}$>$\+::\mbox{\hyperlink{namespacetraccc_1_1kokkos_aa85b5e9d0a0b722037f7366d3162b43f}{member\+\_\+type}} \mbox{\hyperlink{namespacetraccc_1_1kokkos_aa85b5e9d0a0b722037f7366d3162b43f}{traccc\+::kokkos\+::member\+\_\+type}}}

\mbox{\Hypertarget{namespacetraccc_1_1kokkos_a4feb5b452d977e130a82861e686c4052}\label{namespacetraccc_1_1kokkos_a4feb5b452d977e130a82861e686c4052}} 
\index{traccc::kokkos@{traccc::kokkos}!range\_policy@{range\_policy}}
\index{range\_policy@{range\_policy}!traccc::kokkos@{traccc::kokkos}}
\doxysubsubsection{\texorpdfstring{range\_policy}{range\_policy}}
{\footnotesize\ttfamily using \mbox{\hyperlink{namespacetraccc_1_1kokkos_a4feb5b452d977e130a82861e686c4052}{traccc\+::kokkos\+::range\+\_\+policy}} = typedef Kokkos\+::\+Range\+Policy$<$\mbox{\hyperlink{namespacetraccc_1_1kokkos_a631b3bfbde9594e538594cbc73528b2f}{Exec\+Space}}$>$}

\mbox{\Hypertarget{namespacetraccc_1_1kokkos_a43ac393f6778d311ed5653ba3e46d44f}\label{namespacetraccc_1_1kokkos_a43ac393f6778d311ed5653ba3e46d44f}} 
\index{traccc::kokkos@{traccc::kokkos}!team\_policy@{team\_policy}}
\index{team\_policy@{team\_policy}!traccc::kokkos@{traccc::kokkos}}
\doxysubsubsection{\texorpdfstring{team\_policy}{team\_policy}}
{\footnotesize\ttfamily typedef Kokkos\+::\+Team\+Policy$<$\mbox{\hyperlink{namespacetraccc_1_1kokkos_a631b3bfbde9594e538594cbc73528b2f}{Exec\+Space}}$>$ \mbox{\hyperlink{namespacetraccc_1_1kokkos_a43ac393f6778d311ed5653ba3e46d44f}{traccc\+::kokkos\+::team\+\_\+policy}}}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespacetraccc_1_1kokkos_ac6275a34fac6619caab789d57a5c0209}\label{namespacetraccc_1_1kokkos_ac6275a34fac6619caab789d57a5c0209}} 
\index{traccc::kokkos@{traccc::kokkos}!make\_prefix\_sum\_buff@{make\_prefix\_sum\_buff}}
\index{make\_prefix\_sum\_buff@{make\_prefix\_sum\_buff}!traccc::kokkos@{traccc::kokkos}}
\doxysubsubsection{\texorpdfstring{make\_prefix\_sum\_buff()}{make\_prefix\_sum\_buff()}}
{\footnotesize\ttfamily vecmem\+::data\+::vector\+\_\+buffer$<$ \mbox{\hyperlink{namespacetraccc_1_1device_aec5610a925cef95697843cc4e8b38bcb}{device\+::prefix\+\_\+sum\+\_\+element\+\_\+t}} $>$ traccc\+::kokkos\+::make\+\_\+prefix\+\_\+sum\+\_\+buff (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ \mbox{\hyperlink{namespacetraccc_1_1device_ade298ff55a1bdb496e412262cdb66433}{device\+::prefix\+\_\+sum\+\_\+size\+\_\+t}} $>$ \&}]{sizes,  }\item[{vecmem\+::copy \&}]{copy,  }\item[{const \mbox{\hyperlink{structtraccc_1_1memory__resource}{traccc\+::memory\+\_\+resource}} \&}]{mr }\end{DoxyParamCaption})}

Function that returns vector of prefix\+\_\+sum\+\_\+element\+\_\+t for accessing a jagged vector\textquotesingle{}s elements in device Example\+: Jagged vector with sizes = \{3,2,1,...\} Returns\+: \{\mbox{[}0,0\mbox{]}, \mbox{[}0,1\mbox{]}, \mbox{[}0,2\mbox{]}, \mbox{[}1,0\mbox{]}, \mbox{[}1,1\mbox{]}, \mbox{[}2,0\mbox{]}, ...\}


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em sizes} & The sizes of the jagged vector \\
\hline
 & {\em copy} & A \char`\"{}copy object\char`\"{} capable of dealing with the view \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A vector buffer of prefix\+\_\+sum element 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{19                                      \{}
\DoxyCodeLine{20 }
\DoxyCodeLine{21     \textcolor{keyword}{const} \mbox{\hyperlink{namespacetraccc_1_1device_a1c67d5b48697c4ad899f28ae69120e33}{device::prefix\_sum\_buffer\_t}} make\_sum\_result =}
\DoxyCodeLine{22         \mbox{\hyperlink{namespacetraccc_1_1device_a782823d57c341df346a3589010537dbf}{device::make\_prefix\_sum\_buffer}}(sizes, copy, mr);}
\DoxyCodeLine{23     \textcolor{keyword}{const} vecmem::data::vector\_view<const device::prefix\_sum\_size\_t>}
\DoxyCodeLine{24         sizes\_sum\_view = make\_sum\_result.view;}
\DoxyCodeLine{25     \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} totalSize = make\_sum\_result.totalSize;}
\DoxyCodeLine{26 }
\DoxyCodeLine{27     \textcolor{comment}{// Create buffer and view objects for prefix sum vector}}
\DoxyCodeLine{28     vecmem::data::vector\_buffer<device::prefix\_sum\_element\_t> prefix\_sum\_buff(}
\DoxyCodeLine{29         totalSize, mr.\mbox{\hyperlink{structtraccc_1_1memory__resource_a9f1136a4fdab877dd1bbd1a2996e2149}{main}});}
\DoxyCodeLine{30     copy.setup(prefix\_sum\_buff);}
\DoxyCodeLine{31 }
\DoxyCodeLine{32     \textcolor{comment}{// Fill the prefix sum vector}}
\DoxyCodeLine{33     \textcolor{comment}{// kernels::fill\_prefix\_sum<<<(sizes\_sum\_view.size() / 32) + 1, 32>>>(}}
\DoxyCodeLine{34     \textcolor{comment}{//    sizes\_sum\_view, prefix\_sum\_buff);}}
\DoxyCodeLine{35     uint64\_t num\_blocks = (sizes\_sum\_view.size() / 32) + 1;}
\DoxyCodeLine{36     uint64\_t num\_threads = 32;}
\DoxyCodeLine{37     \textcolor{keyword}{auto} data\_prefix\_sum\_buff = \mbox{\hyperlink{namespacetraccc_a503d2d50b981602cbc71693ad215b298}{vecmem::get\_data}}(prefix\_sum\_buff);}
\DoxyCodeLine{38     Kokkos::parallel\_for(}
\DoxyCodeLine{39         \textcolor{stringliteral}{"fill\_prefix\_sum"}, \mbox{\hyperlink{namespacetraccc_1_1kokkos_a43ac393f6778d311ed5653ba3e46d44f}{team\_policy}}(num\_blocks, num\_threads),}
\DoxyCodeLine{40         KOKKOS\_LAMBDA(\textcolor{keyword}{const} \mbox{\hyperlink{namespacetraccc_1_1kokkos_aa85b5e9d0a0b722037f7366d3162b43f}{member\_type}}\& team\_member) \{}
\DoxyCodeLine{41             \mbox{\hyperlink{namespacetraccc_1_1device_a7c2b528a06357f0ac89eae726d2b31ca}{device::fill\_prefix\_sum}}(}
\DoxyCodeLine{42                 team\_member.league\_rank() * team\_member.team\_size() +}
\DoxyCodeLine{43                     team\_member.team\_rank(),}
\DoxyCodeLine{44                 sizes\_sum\_view, data\_prefix\_sum\_buff);}
\DoxyCodeLine{45         \});}
\DoxyCodeLine{46     \textcolor{keywordflow}{return} prefix\_sum\_buff;}
\DoxyCodeLine{47 \}}

\end{DoxyCode}


References traccc\+::device\+::fill\+\_\+prefix\+\_\+sum(), traccc\+::get\+\_\+data(), traccc\+::memory\+\_\+resource\+::main, traccc\+::device\+::make\+\_\+prefix\+\_\+sum\+\_\+buffer(), traccc\+::device\+::prefix\+\_\+sum\+\_\+buffer\+::total\+Size, and traccc\+::device\+::prefix\+\_\+sum\+\_\+buffer\+::view.

