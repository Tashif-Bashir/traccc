\hypertarget{structtraccc_1_1futhark_1_1wrapper_3_01T_00_01std_1_1tuple_3_01IArgs_8_8_8_01_4_00_01std_1_1tuple_3_01OArgs_8_8_8_01_4_01_4}{}\doxysection{traccc\+::futhark\+::wrapper$<$ T, std\+::tuple$<$ I\+Args... $>$, std\+::tuple$<$ O\+Args... $>$ $>$ Struct Template Reference}
\label{structtraccc_1_1futhark_1_1wrapper_3_01T_00_01std_1_1tuple_3_01IArgs_8_8_8_01_4_00_01std_1_1tuple_3_01OArgs_8_8_8_01_4_01_4}\index{traccc::futhark::wrapper$<$ T, std::tuple$<$ IArgs... $>$, std::tuple$<$ OArgs... $>$ $>$@{traccc::futhark::wrapper$<$ T, std::tuple$<$ IArgs... $>$, std::tuple$<$ OArgs... $>$ $>$}}


{\ttfamily \#include $<$wrapper.\+hpp$>$}



Collaboration diagram for traccc\+::futhark\+::wrapper$<$ T, std\+::tuple$<$ I\+Args... $>$, std\+::tuple$<$ O\+Args... $>$ $>$\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=232pt]{d1/dc4/structtraccc_1_1futhark_1_1wrapper_3_01T_00_01std_1_1tuple_3_01IArgs_8_8_8_01_4_00_01std_1_1tupl92c7f21d313a06c7dd0a46c56e72c379}
\end{center}
\end{figure}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{structtraccc_1_1futhark_1_1wrapper_3_01T_00_01std_1_1tuple_3_01IArgs_8_8_8_01_4_00_01std_1_1tuple_3_01OArgs_8_8_8_01_4_01_4_a6adcb2dace96a41b75c5a946058b7be6}{output\+\_\+t}} = std\+::tuple$<$ std\+::vector$<$ typename O\+Args\+::cpp\+\_\+t $>$... $>$
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$std\+::size\+\_\+t... I\+Idxs, std\+::size\+\_\+t... O\+Idxs$>$ }\\static \mbox{\hyperlink{structtraccc_1_1futhark_1_1wrapper_3_01T_00_01std_1_1tuple_3_01IArgs_8_8_8_01_4_00_01std_1_1tuple_3_01OArgs_8_8_8_01_4_01_4_a6adcb2dace96a41b75c5a946058b7be6}{output\+\_\+t}} \mbox{\hyperlink{structtraccc_1_1futhark_1_1wrapper_3_01T_00_01std_1_1tuple_3_01IArgs_8_8_8_01_4_00_01std_1_1tuple_3_01OArgs_8_8_8_01_4_01_4_a88aa7ca47a3e45ee60f9c59f906dc020}{run\+\_\+helper}} (struct futhark\+\_\+context \&ctx, std\+::vector$<$ typename I\+Args\+::cpp\+\_\+t $>$ \&\&... args, std\+::index\+\_\+sequence$<$ I\+Idxs... $>$, std\+::index\+\_\+sequence$<$ O\+Idxs... $>$)
\item 
static std\+::tuple$<$ std\+::vector$<$ typename O\+Args\+::cpp\+\_\+t $>$... $>$ \mbox{\hyperlink{structtraccc_1_1futhark_1_1wrapper_3_01T_00_01std_1_1tuple_3_01IArgs_8_8_8_01_4_00_01std_1_1tuple_3_01OArgs_8_8_8_01_4_01_4_abaad075d8de4c0764af241c957341fd3}{run}} (std\+::vector$<$ typename I\+Args\+::cpp\+\_\+t $>$ \&\&... args)
\end{DoxyCompactItemize}


\doxysubsection{Member Typedef Documentation}
\mbox{\Hypertarget{structtraccc_1_1futhark_1_1wrapper_3_01T_00_01std_1_1tuple_3_01IArgs_8_8_8_01_4_00_01std_1_1tuple_3_01OArgs_8_8_8_01_4_01_4_a6adcb2dace96a41b75c5a946058b7be6}\label{structtraccc_1_1futhark_1_1wrapper_3_01T_00_01std_1_1tuple_3_01IArgs_8_8_8_01_4_00_01std_1_1tuple_3_01OArgs_8_8_8_01_4_01_4_a6adcb2dace96a41b75c5a946058b7be6}} 
\index{traccc::futhark::wrapper$<$ T, std::tuple$<$ IArgs... $>$, std::tuple$<$ OArgs... $>$ $>$@{traccc::futhark::wrapper$<$ T, std::tuple$<$ IArgs... $>$, std::tuple$<$ OArgs... $>$ $>$}!output\_t@{output\_t}}
\index{output\_t@{output\_t}!traccc::futhark::wrapper$<$ T, std::tuple$<$ IArgs... $>$, std::tuple$<$ OArgs... $>$ $>$@{traccc::futhark::wrapper$<$ T, std::tuple$<$ IArgs... $>$, std::tuple$<$ OArgs... $>$ $>$}}
\doxysubsubsection{\texorpdfstring{output\_t}{output\_t}}
{\footnotesize\ttfamily template$<$typename T , typename... I\+Args, typename... O\+Args$>$ \\
using \mbox{\hyperlink{structtraccc_1_1futhark_1_1wrapper}{traccc\+::futhark\+::wrapper}}$<$ T, std\+::tuple$<$ I\+Args... $>$, std\+::tuple$<$ O\+Args... $>$ $>$\+::\mbox{\hyperlink{structtraccc_1_1futhark_1_1wrapper_3_01T_00_01std_1_1tuple_3_01IArgs_8_8_8_01_4_00_01std_1_1tuple_3_01OArgs_8_8_8_01_4_01_4_a6adcb2dace96a41b75c5a946058b7be6}{output\+\_\+t}} =  std\+::tuple$<$std\+::vector$<$typename O\+Args\+::cpp\+\_\+t$>$...$>$}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{structtraccc_1_1futhark_1_1wrapper_3_01T_00_01std_1_1tuple_3_01IArgs_8_8_8_01_4_00_01std_1_1tuple_3_01OArgs_8_8_8_01_4_01_4_abaad075d8de4c0764af241c957341fd3}\label{structtraccc_1_1futhark_1_1wrapper_3_01T_00_01std_1_1tuple_3_01IArgs_8_8_8_01_4_00_01std_1_1tuple_3_01OArgs_8_8_8_01_4_01_4_abaad075d8de4c0764af241c957341fd3}} 
\index{traccc::futhark::wrapper$<$ T, std::tuple$<$ IArgs... $>$, std::tuple$<$ OArgs... $>$ $>$@{traccc::futhark::wrapper$<$ T, std::tuple$<$ IArgs... $>$, std::tuple$<$ OArgs... $>$ $>$}!run@{run}}
\index{run@{run}!traccc::futhark::wrapper$<$ T, std::tuple$<$ IArgs... $>$, std::tuple$<$ OArgs... $>$ $>$@{traccc::futhark::wrapper$<$ T, std::tuple$<$ IArgs... $>$, std::tuple$<$ OArgs... $>$ $>$}}
\doxysubsubsection{\texorpdfstring{run()}{run()}}
{\footnotesize\ttfamily template$<$typename T , typename... I\+Args, typename... O\+Args$>$ \\
static std\+::tuple$<$std\+::vector$<$typename O\+Args\+::cpp\+\_\+t$>$...$>$ \mbox{\hyperlink{structtraccc_1_1futhark_1_1wrapper}{traccc\+::futhark\+::wrapper}}$<$ T, std\+::tuple$<$ I\+Args... $>$, std\+::tuple$<$ O\+Args... $>$ $>$\+::run (\begin{DoxyParamCaption}\item[{std\+::vector$<$ typename I\+Args\+::cpp\+\_\+t $>$ \&\&...}]{args }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{148                                                    \{}
\DoxyCodeLine{149         \textcolor{keywordflow}{return} \mbox{\hyperlink{structtraccc_1_1futhark_1_1wrapper_3_01T_00_01std_1_1tuple_3_01IArgs_8_8_8_01_4_00_01std_1_1tuple_3_01OArgs_8_8_8_01_4_01_4_a88aa7ca47a3e45ee60f9c59f906dc020}{run\_helper}}(}
\DoxyCodeLine{150             \mbox{\hyperlink{namespacetraccc_1_1futhark_ac5d0981072b2bde52eef5139bf0e7d4a}{get\_context}}(),}
\DoxyCodeLine{151             std::forward<std::vector<typename IArgs::cpp\_t>>(\mbox{\hyperlink{namespaceccl__generator_a66ef21188ab18963b6e228c9ad7ea4a0}{args}})...,}
\DoxyCodeLine{152             std::index\_sequence\_for<IArgs...>\{\},}
\DoxyCodeLine{153             std::index\_sequence\_for<OArgs...>\{\});}
\DoxyCodeLine{154     \}}

\end{DoxyCode}


References ccl\+\_\+generator\+::args, and traccc\+::futhark\+::get\+\_\+context().

\mbox{\Hypertarget{structtraccc_1_1futhark_1_1wrapper_3_01T_00_01std_1_1tuple_3_01IArgs_8_8_8_01_4_00_01std_1_1tuple_3_01OArgs_8_8_8_01_4_01_4_a88aa7ca47a3e45ee60f9c59f906dc020}\label{structtraccc_1_1futhark_1_1wrapper_3_01T_00_01std_1_1tuple_3_01IArgs_8_8_8_01_4_00_01std_1_1tuple_3_01OArgs_8_8_8_01_4_01_4_a88aa7ca47a3e45ee60f9c59f906dc020}} 
\index{traccc::futhark::wrapper$<$ T, std::tuple$<$ IArgs... $>$, std::tuple$<$ OArgs... $>$ $>$@{traccc::futhark::wrapper$<$ T, std::tuple$<$ IArgs... $>$, std::tuple$<$ OArgs... $>$ $>$}!run\_helper@{run\_helper}}
\index{run\_helper@{run\_helper}!traccc::futhark::wrapper$<$ T, std::tuple$<$ IArgs... $>$, std::tuple$<$ OArgs... $>$ $>$@{traccc::futhark::wrapper$<$ T, std::tuple$<$ IArgs... $>$, std::tuple$<$ OArgs... $>$ $>$}}
\doxysubsubsection{\texorpdfstring{run\_helper()}{run\_helper()}}
{\footnotesize\ttfamily template$<$typename T , typename... I\+Args, typename... O\+Args$>$ \\
template$<$std\+::size\+\_\+t... I\+Idxs, std\+::size\+\_\+t... O\+Idxs$>$ \\
static \mbox{\hyperlink{structtraccc_1_1futhark_1_1wrapper_3_01T_00_01std_1_1tuple_3_01IArgs_8_8_8_01_4_00_01std_1_1tuple_3_01OArgs_8_8_8_01_4_01_4_a6adcb2dace96a41b75c5a946058b7be6}{output\+\_\+t}} \mbox{\hyperlink{structtraccc_1_1futhark_1_1wrapper}{traccc\+::futhark\+::wrapper}}$<$ T, std\+::tuple$<$ I\+Args... $>$, std\+::tuple$<$ O\+Args... $>$ $>$\+::run\+\_\+helper (\begin{DoxyParamCaption}\item[{struct futhark\+\_\+context \&}]{ctx,  }\item[{std\+::vector$<$ typename I\+Args\+::cpp\+\_\+t $>$ \&\&...}]{args,  }\item[{std\+::index\+\_\+sequence$<$ I\+Idxs... $>$}]{,  }\item[{std\+::index\+\_\+sequence$<$ O\+Idxs... $>$}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{76                                                             \{}
\DoxyCodeLine{77         std::tuple<\textcolor{keyword}{typename} IArgs::futhark\_t *...> futhark\_inputs = \{}
\DoxyCodeLine{78             IArgs::alloc\_f(\&ctx, \mbox{\hyperlink{namespaceccl__generator_a66ef21188ab18963b6e228c9ad7ea4a0}{args}}.data(), \mbox{\hyperlink{namespaceccl__generator_a66ef21188ab18963b6e228c9ad7ea4a0}{args}}.size())...\};}
\DoxyCodeLine{79         std::tuple<\textcolor{keyword}{typename} OArgs::futhark\_t *...> futhark\_outputs;}
\DoxyCodeLine{80 }
\DoxyCodeLine{81         \mbox{\hyperlink{device_2futhark_2include_2traccc_2futhark_2utils_8hpp_a0803495ad12729709fab892a34e1bb24}{FUTHARK\_ERROR\_CHECK}}(futhark\_context\_sync(\&ctx));}
\DoxyCodeLine{82 }
\DoxyCodeLine{83         \textcolor{comment}{/*}}
\DoxyCodeLine{84 \textcolor{comment}{         * Make the call to the Futhark entry point.}}
\DoxyCodeLine{85 \textcolor{comment}{         */}}
\DoxyCodeLine{86         \mbox{\hyperlink{device_2futhark_2include_2traccc_2futhark_2utils_8hpp_a0803495ad12729709fab892a34e1bb24}{FUTHARK\_ERROR\_CHECK}}(T::entry\_f(\&ctx,}
\DoxyCodeLine{87                                        (\&std::get<OIdxs>(futhark\_outputs))...,}
\DoxyCodeLine{88                                        std::get<IIdxs>(futhark\_inputs)...));}
\DoxyCodeLine{89 }
\DoxyCodeLine{90         \mbox{\hyperlink{device_2futhark_2include_2traccc_2futhark_2utils_8hpp_a0803495ad12729709fab892a34e1bb24}{FUTHARK\_ERROR\_CHECK}}(futhark\_context\_sync(\&ctx));}
\DoxyCodeLine{91 }
\DoxyCodeLine{92         \textcolor{comment}{/*}}
\DoxyCodeLine{93 \textcolor{comment}{         * Free the inputs, which are no longer needed.}}
\DoxyCodeLine{94 \textcolor{comment}{         */}}
\DoxyCodeLine{95         (\mbox{\hyperlink{device_2futhark_2include_2traccc_2futhark_2utils_8hpp_a0803495ad12729709fab892a34e1bb24}{FUTHARK\_ERROR\_CHECK}}(}
\DoxyCodeLine{96              IArgs::free\_f(\&ctx, std::get<IIdxs>(futhark\_inputs))),}
\DoxyCodeLine{97          ...);}
\DoxyCodeLine{98 }
\DoxyCodeLine{99         \mbox{\hyperlink{device_2futhark_2include_2traccc_2futhark_2utils_8hpp_a0803495ad12729709fab892a34e1bb24}{FUTHARK\_ERROR\_CHECK}}(futhark\_context\_sync(\&ctx));}
\DoxyCodeLine{100 }
\DoxyCodeLine{101         \textcolor{comment}{/*}}
\DoxyCodeLine{102 \textcolor{comment}{         * Retrieve the shapes of output vectors.}}
\DoxyCodeLine{103 \textcolor{comment}{         */}}
\DoxyCodeLine{104         std::tuple<std::array<int64\_t, OArgs::rank\_v>...> output\_ranks;}
\DoxyCodeLine{105         std::array<\textcolor{keyword}{const} int64\_t *, \textcolor{keyword}{sizeof}...(OArgs)> output\_rank\_ptrs;}
\DoxyCodeLine{106         ((std::get<OIdxs>(output\_rank\_ptrs) =}
\DoxyCodeLine{107               OArgs::shape\_f(\&ctx, std::get<OIdxs>(futhark\_outputs))),}
\DoxyCodeLine{108          ...);}
\DoxyCodeLine{109 }
\DoxyCodeLine{110         \mbox{\hyperlink{device_2futhark_2include_2traccc_2futhark_2utils_8hpp_a0803495ad12729709fab892a34e1bb24}{FUTHARK\_ERROR\_CHECK}}(futhark\_context\_sync(\&ctx));}
\DoxyCodeLine{111 }
\DoxyCodeLine{112         ((std::memcpy(std::get<OIdxs>(output\_ranks).data(),}
\DoxyCodeLine{113                       std::get<OIdxs>(output\_rank\_ptrs),}
\DoxyCodeLine{114                       OArgs::rank\_v * \textcolor{keyword}{sizeof}(int64\_t))),}
\DoxyCodeLine{115          ...);}
\DoxyCodeLine{116 }
\DoxyCodeLine{117         \textcolor{comment}{/*}}
\DoxyCodeLine{118 \textcolor{comment}{         * Create the output vectors.}}
\DoxyCodeLine{119 \textcolor{comment}{         */}}
\DoxyCodeLine{120         std::tuple<std::vector<typename OArgs::cpp\_t>...> out(}
\DoxyCodeLine{121             std::accumulate(std::get<OIdxs>(output\_ranks).begin(),}
\DoxyCodeLine{122                             std::get<OIdxs>(output\_ranks).end(), 1,}
\DoxyCodeLine{123                             std::multiplies<int64\_t>())...);}
\DoxyCodeLine{124 }
\DoxyCodeLine{125         \textcolor{comment}{/*}}
\DoxyCodeLine{126 \textcolor{comment}{         * Copy the values from the Futhark output vectors.}}
\DoxyCodeLine{127 \textcolor{comment}{         */}}
\DoxyCodeLine{128         (\mbox{\hyperlink{device_2futhark_2include_2traccc_2futhark_2utils_8hpp_a0803495ad12729709fab892a34e1bb24}{FUTHARK\_ERROR\_CHECK}}(OArgs::values\_f(\&ctx,}
\DoxyCodeLine{129                                              std::get<OIdxs>(futhark\_outputs),}
\DoxyCodeLine{130                                              std::get<OIdxs>(out).data())),}
\DoxyCodeLine{131          ...);}
\DoxyCodeLine{132 }
\DoxyCodeLine{133         \mbox{\hyperlink{device_2futhark_2include_2traccc_2futhark_2utils_8hpp_a0803495ad12729709fab892a34e1bb24}{FUTHARK\_ERROR\_CHECK}}(futhark\_context\_sync(\&ctx));}
\DoxyCodeLine{134 }
\DoxyCodeLine{135         \textcolor{comment}{/*}}
\DoxyCodeLine{136 \textcolor{comment}{         * Free the Futhark output vectors.}}
\DoxyCodeLine{137 \textcolor{comment}{         */}}
\DoxyCodeLine{138         (\mbox{\hyperlink{device_2futhark_2include_2traccc_2futhark_2utils_8hpp_a0803495ad12729709fab892a34e1bb24}{FUTHARK\_ERROR\_CHECK}}(}
\DoxyCodeLine{139              OArgs::free\_f(\&ctx, std::get<OIdxs>(futhark\_outputs))),}
\DoxyCodeLine{140          ...);}
\DoxyCodeLine{141 }
\DoxyCodeLine{142         \mbox{\hyperlink{device_2futhark_2include_2traccc_2futhark_2utils_8hpp_a0803495ad12729709fab892a34e1bb24}{FUTHARK\_ERROR\_CHECK}}(futhark\_context\_sync(\&ctx));}
\DoxyCodeLine{143 }
\DoxyCodeLine{144         \textcolor{keywordflow}{return} out;}
\DoxyCodeLine{145     \}}

\end{DoxyCode}


References ccl\+\_\+generator\+::args, and F\+U\+T\+H\+A\+R\+K\+\_\+\+E\+R\+R\+O\+R\+\_\+\+C\+H\+E\+CK.



The documentation for this struct was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
device/futhark/include/traccc/futhark/\mbox{\hyperlink{wrapper_8hpp}{wrapper.\+hpp}}\end{DoxyCompactItemize}
