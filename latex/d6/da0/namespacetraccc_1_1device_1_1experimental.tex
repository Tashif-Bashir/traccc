\hypertarget{namespacetraccc_1_1device_1_1experimental}{}\doxysection{traccc\+::device\+::experimental Namespace Reference}
\label{namespacetraccc_1_1device_1_1experimental}\index{traccc::device::experimental@{traccc::device::experimental}}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename detector\+\_\+t $>$ }\\\mbox{\hyperlink{qualifiers_8hpp_a883f657259ab2dcc9d7b3ffd6165541a}{T\+R\+A\+C\+C\+C\+\_\+\+H\+O\+S\+T\+\_\+\+D\+E\+V\+I\+CE}} void \mbox{\hyperlink{namespacetraccc_1_1device_1_1experimental_a16b3df90e5ac0cc9a70f68530e374777}{form\+\_\+spacepoints}} (const std\+::size\+\_\+t global\+Index, typename detector\+\_\+t\+::view\+\_\+type det\+\_\+data, \mbox{\hyperlink{structtraccc_1_1collection__types_a6ef00cb04070f8f7954499bdaa71ddf0}{measurement\+\_\+collection\+\_\+types\+::const\+\_\+view}} measurements\+\_\+view, \mbox{\hyperlink{structtraccc_1_1collection__types_a81f48fe7d1fbbd487c3dbdad322b1142}{spacepoint\+\_\+collection\+\_\+types\+::view}} spacepoints\+\_\+view)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
T\+R\+A\+C\+CC library, part of the A\+C\+TS project (R\&D line)

(c) 2023 C\+E\+RN for the benefit of the A\+C\+TS project

Mozilla Public License Version 2.\+0 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespacetraccc_1_1device_1_1experimental_a16b3df90e5ac0cc9a70f68530e374777}\label{namespacetraccc_1_1device_1_1experimental_a16b3df90e5ac0cc9a70f68530e374777}} 
\index{traccc::device::experimental@{traccc::device::experimental}!form\_spacepoints@{form\_spacepoints}}
\index{form\_spacepoints@{form\_spacepoints}!traccc::device::experimental@{traccc::device::experimental}}
\doxysubsubsection{\texorpdfstring{form\_spacepoints()}{form\_spacepoints()}}
{\footnotesize\ttfamily template$<$typename detector\+\_\+t $>$ \\
\mbox{\hyperlink{qualifiers_8hpp_a883f657259ab2dcc9d7b3ffd6165541a}{T\+R\+A\+C\+C\+C\+\_\+\+H\+O\+S\+T\+\_\+\+D\+E\+V\+I\+CE}} void traccc\+::device\+::experimental\+::form\+\_\+spacepoints (\begin{DoxyParamCaption}\item[{const std\+::size\+\_\+t}]{global\+Index,  }\item[{typename detector\+\_\+t\+::view\+\_\+type}]{det\+\_\+data,  }\item[{\mbox{\hyperlink{structtraccc_1_1collection__types_a6ef00cb04070f8f7954499bdaa71ddf0}{measurement\+\_\+collection\+\_\+types\+::const\+\_\+view}}}]{measurements\+\_\+view,  }\item[{\mbox{\hyperlink{structtraccc_1_1collection__types_a81f48fe7d1fbbd487c3dbdad322b1142}{spacepoint\+\_\+collection\+\_\+types\+::view}}}]{spacepoints\+\_\+view }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Function for creating 3D spacepoints out of 2D measurements 
\begin{DoxyCode}{0}
\DoxyCodeLine{19                                                       \{}
\DoxyCodeLine{20 }
\DoxyCodeLine{21     \textcolor{comment}{// Detector}}
\DoxyCodeLine{22     detector\_t det(det\_data);}
\DoxyCodeLine{23 }
\DoxyCodeLine{24     \textcolor{comment}{// Get device copy of input measurements}}
\DoxyCodeLine{25     \textcolor{keyword}{const} measurement\_collection\_types::const\_device measurements(}
\DoxyCodeLine{26         measurements\_view);}
\DoxyCodeLine{27 }
\DoxyCodeLine{28     \textcolor{comment}{// Get device copy of output measurements}}
\DoxyCodeLine{29     spacepoint\_collection\_types::device spacepoints(spacepoints\_view);}
\DoxyCodeLine{30 }
\DoxyCodeLine{31     \textcolor{keywordflow}{if} (globalIndex >= measurements.size()) \{}
\DoxyCodeLine{32         \textcolor{keywordflow}{return};}
\DoxyCodeLine{33     \}}
\DoxyCodeLine{34 }
\DoxyCodeLine{35     \textcolor{comment}{// Access the measurements of the current module.}}
\DoxyCodeLine{36     \textcolor{keyword}{const} measurement\& ms = measurements.at(globalIndex);}
\DoxyCodeLine{37 }
\DoxyCodeLine{38     \textcolor{keyword}{const} detray::surface<detector\_t> sf\{det, ms.surface\_link\};}
\DoxyCodeLine{39 }
\DoxyCodeLine{40     \textcolor{comment}{// This local to global transformation only works for 2D planar measurement}}
\DoxyCodeLine{41     \textcolor{comment}{// (e.g. barrel pixel and endcap pixel detector)}}
\DoxyCodeLine{42     \textcolor{keyword}{const} \textcolor{keyword}{auto} global = sf.bound\_to\_global(\{\}, ms.local, \{\});}
\DoxyCodeLine{43 }
\DoxyCodeLine{44     spacepoints.push\_back(\{global, ms\});}
\DoxyCodeLine{45 \}}

\end{DoxyCode}


References traccc\+::measurement\+::local, and traccc\+::measurement\+::surface\+\_\+link.

