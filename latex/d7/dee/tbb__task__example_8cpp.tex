\hypertarget{tbb__task__example_8cpp}{}\doxysection{examples/run/cpu/tbb\+\_\+task\+\_\+example.cpp File Reference}
\label{tbb__task__example_8cpp}\index{examples/run/cpu/tbb\_task\_example.cpp@{examples/run/cpu/tbb\_task\_example.cpp}}
{\ttfamily \#include $<$tbb/task\+\_\+arena.\+h$>$}\newline
{\ttfamily \#include $<$tbb/task\+\_\+group.\+h$>$}\newline
{\ttfamily \#include $<$iostream$>$}\newline
{\ttfamily \#include $<$thread$>$}\newline
Include dependency graph for tbb\+\_\+task\+\_\+example.\+cpp\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d6a/tbb__task__example_8cpp__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{tbb__task__example_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}{main}} ()
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{tbb__task__example_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}\label{tbb__task__example_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}} 
\index{tbb\_task\_example.cpp@{tbb\_task\_example.cpp}!main@{main}}
\index{main@{main}!tbb\_task\_example.cpp@{tbb\_task\_example.cpp}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

T\+R\+A\+C\+CC library, part of the A\+C\+TS project (R\&D line)

(c) 2022 C\+E\+RN for the benefit of the A\+C\+TS project

Mozilla Public License Version 2.\+0 
\begin{DoxyCode}{0}
\DoxyCodeLine{16            \{}
\DoxyCodeLine{17 }
\DoxyCodeLine{18     \textcolor{comment}{// Arena to run all the tasks in.}}
\DoxyCodeLine{19     tbb::task\_arena arena;}
\DoxyCodeLine{20     \textcolor{comment}{// Task group to put tasks in. Allowing us to wait for it explicitly.}}
\DoxyCodeLine{21     tbb::task\_group group;}
\DoxyCodeLine{22 }
\DoxyCodeLine{23     \textcolor{comment}{// To be able to use "time literals".}}
\DoxyCodeLine{24     \textcolor{keyword}{using namespace }std::chrono\_literals;}
\DoxyCodeLine{25 }
\DoxyCodeLine{26     \textcolor{comment}{// Execute a few hello world tasks.}}
\DoxyCodeLine{27     \textcolor{keywordflow}{for} (std::size\_t i = 0; i < 32; ++i) \{}
\DoxyCodeLine{28         arena.execute([i, \&group]() \{}
\DoxyCodeLine{29             group.run([i]() \{}
\DoxyCodeLine{30                 std::cout << \textcolor{stringliteral}{"Hello World from task "} << i << \textcolor{stringliteral}{" on thread "}}
\DoxyCodeLine{31                           << tbb::this\_task\_arena::current\_thread\_index()}
\DoxyCodeLine{32                           << std::endl;}
\DoxyCodeLine{33                 std::this\_thread::sleep\_for(50ms);}
\DoxyCodeLine{34             \});}
\DoxyCodeLine{35         \});}
\DoxyCodeLine{36     \}}
\DoxyCodeLine{37 }
\DoxyCodeLine{38     \textcolor{comment}{// Wait for all threads to finish.}}
\DoxyCodeLine{39     group.wait();}
\DoxyCodeLine{40 }
\DoxyCodeLine{41     \textcolor{comment}{// Return gracefully.}}
\DoxyCodeLine{42     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{43 \}}

\end{DoxyCode}
