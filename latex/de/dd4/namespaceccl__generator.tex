\hypertarget{namespaceccl__generator}{}\doxysection{ccl\+\_\+generator Namespace Reference}
\label{namespaceccl__generator}\index{ccl\_generator@{ccl\_generator}}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{namespaceccl__generator_ac183280445c279cd3f1895ffdbf93ee2}{neighbourhood}} (p, m)
\item 
def \mbox{\hyperlink{namespaceccl__generator_aa34bd9a7794bb4e63e1f3e956e097e4a}{rand}} (d)
\item 
def \mbox{\hyperlink{namespaceccl__generator_a27fe8104a9de77be84af0d46b006f362}{generate\+\_\+file}} (name, Md, Hd, size, N)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespaceccl__generator_a6d28b6eb5e17cb18c30272a15ecebce2}{parser}} = argparse.\+Argument\+Parser(description=\char`\"{}Generate some C\+CL examples\char`\"{})
\item 
\mbox{\hyperlink{namespaceccl__generator_a9abe607cc33aa5d2221eab7f9b589df2}{type}}
\item 
\mbox{\hyperlink{namespaceccl__generator_a01e58e8324d8b3ac31382f4cea4e9cfa}{help}}
\item 
\mbox{\hyperlink{namespaceccl__generator_af03a71dc24f6c86cc6d43d6e5677630e}{default}}
\item 
\mbox{\hyperlink{namespaceccl__generator_a66ef21188ab18963b6e228c9ad7ea4a0}{args}} = parser.\+parse\+\_\+args()
\item 
\mbox{\hyperlink{namespaceccl__generator_a3fd543c9861ac96c8f0d0cc7aef842c8}{hits\+\_\+dist}} = scipy.\+stats.\+lognorm(args.\+Ms, scale=math.\+exp(args.\+Mm))
\item 
\mbox{\hyperlink{namespaceccl__generator_adf372ad6b035b7543edb58ee1131b9b2}{cell\+\_\+dist}} = scipy.\+stats.\+lognorm(args.\+Hs, scale=math.\+exp(args.\+Hm))
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespaceccl__generator_a27fe8104a9de77be84af0d46b006f362}\label{namespaceccl__generator_a27fe8104a9de77be84af0d46b006f362}} 
\index{ccl\_generator@{ccl\_generator}!generate\_file@{generate\_file}}
\index{generate\_file@{generate\_file}!ccl\_generator@{ccl\_generator}}
\doxysubsubsection{\texorpdfstring{generate\_file()}{generate\_file()}}
{\footnotesize\ttfamily def ccl\+\_\+generator.\+generate\+\_\+file (\begin{DoxyParamCaption}\item[{}]{name,  }\item[{}]{Md,  }\item[{}]{Hd,  }\item[{}]{size,  }\item[{}]{N }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{34 \textcolor{keyword}{def }\mbox{\hyperlink{namespaceccl__generator_a27fe8104a9de77be84af0d46b006f362}{generate\_file}}(name, Md, Hd, size, N):}
\DoxyCodeLine{35     print(\textcolor{stringliteral}{"Generating file \%s..."} \% name)}
\DoxyCodeLine{36 }
\DoxyCodeLine{37     \textcolor{keyword}{with} open(name, \textcolor{stringliteral}{"w"}) \textcolor{keyword}{as} f:}
\DoxyCodeLine{38         h = 0}
\DoxyCodeLine{39         w = csv.DictWriter(}
\DoxyCodeLine{40             f,}
\DoxyCodeLine{41             fieldnames=[}
\DoxyCodeLine{42                 \textcolor{stringliteral}{"geometry\_id"},}
\DoxyCodeLine{43                 \textcolor{stringliteral}{"hit\_id"},}
\DoxyCodeLine{44                 \textcolor{stringliteral}{"channel0"},}
\DoxyCodeLine{45                 \textcolor{stringliteral}{"channel1"},}
\DoxyCodeLine{46                 \textcolor{stringliteral}{"timestamp"},}
\DoxyCodeLine{47                 \textcolor{stringliteral}{"value"},}
\DoxyCodeLine{48             ],}
\DoxyCodeLine{49             lineterminator=\textcolor{stringliteral}{"\(\backslash\)n"},}
\DoxyCodeLine{50         )}
\DoxyCodeLine{51         w.writeheader()}
\DoxyCodeLine{52 }
\DoxyCodeLine{53         \textcolor{keywordflow}{for} m \textcolor{keywordflow}{in} range(N):}
\DoxyCodeLine{54             acts = 0}
\DoxyCodeLine{55             hits = \mbox{\hyperlink{namespaceccl__generator_aa34bd9a7794bb4e63e1f3e956e097e4a}{rand}}(Md)}
\DoxyCodeLine{56 }
\DoxyCodeLine{57             points = \mbox{\hyperlink{extern_2alpaka_2CMakeLists_8txt_a8e5fe0ea85ac60203de48176b27ec966}{set}}()}
\DoxyCodeLine{58 }
\DoxyCodeLine{59             \textcolor{keywordflow}{for} q \textcolor{keywordflow}{in} range(hits):}
\DoxyCodeLine{60                 cells = \mbox{\hyperlink{namespaceccl__generator_aa34bd9a7794bb4e63e1f3e956e097e4a}{rand}}(Hd)}
\DoxyCodeLine{61                 center = (random.randint(0, size -\/ 1), random.randint(0, size -\/ 1))}
\DoxyCodeLine{62 }
\DoxyCodeLine{63                 cands = [center]}
\DoxyCodeLine{64                 seen = \mbox{\hyperlink{extern_2alpaka_2CMakeLists_8txt_a8e5fe0ea85ac60203de48176b27ec966}{set}}()}
\DoxyCodeLine{65 }
\DoxyCodeLine{66                 \textcolor{keywordflow}{for} c \textcolor{keywordflow}{in} range(cells):}
\DoxyCodeLine{67                     \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} cands:}
\DoxyCodeLine{68                         \textcolor{keywordflow}{break}}
\DoxyCodeLine{69 }
\DoxyCodeLine{70                     p = random.choice(cands)}
\DoxyCodeLine{71 }
\DoxyCodeLine{72                     \textcolor{keywordflow}{if} p \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} points:}
\DoxyCodeLine{73                         w.writerow(}
\DoxyCodeLine{74                             \{}
\DoxyCodeLine{75                                 \textcolor{stringliteral}{"geometry\_id"}: m,}
\DoxyCodeLine{76                                 \textcolor{stringliteral}{"hit\_id"}: h,}
\DoxyCodeLine{77                                 \textcolor{stringliteral}{"channel0"}: p[0],}
\DoxyCodeLine{78                                 \textcolor{stringliteral}{"channel1"}: p[1],}
\DoxyCodeLine{79                                 \textcolor{stringliteral}{"timestamp"}: 0,}
\DoxyCodeLine{80                                 \textcolor{stringliteral}{"value"}: random.uniform(0.1, 1.0),}
\DoxyCodeLine{81                             \}}
\DoxyCodeLine{82                         )}
\DoxyCodeLine{83 }
\DoxyCodeLine{84                     acts += 1}
\DoxyCodeLine{85 }
\DoxyCodeLine{86                     seen.add(p)}
\DoxyCodeLine{87                     cands += \mbox{\hyperlink{namespaceccl__generator_ac183280445c279cd3f1895ffdbf93ee2}{neighbourhood}}(p, size)}
\DoxyCodeLine{88                     cands = [x \textcolor{keywordflow}{for} x \textcolor{keywordflow}{in} cands \textcolor{keywordflow}{if} x \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} seen \textcolor{keywordflow}{and} x \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} points]}
\DoxyCodeLine{89 }
\DoxyCodeLine{90                 h += 1}
\DoxyCodeLine{91                 points |= seen}
\DoxyCodeLine{92 }
\DoxyCodeLine{93 }

\end{DoxyCode}


References neighbourhood(), rand(), and set().

\mbox{\Hypertarget{namespaceccl__generator_ac183280445c279cd3f1895ffdbf93ee2}\label{namespaceccl__generator_ac183280445c279cd3f1895ffdbf93ee2}} 
\index{ccl\_generator@{ccl\_generator}!neighbourhood@{neighbourhood}}
\index{neighbourhood@{neighbourhood}!ccl\_generator@{ccl\_generator}}
\doxysubsubsection{\texorpdfstring{neighbourhood()}{neighbourhood()}}
{\footnotesize\ttfamily def ccl\+\_\+generator.\+neighbourhood (\begin{DoxyParamCaption}\item[{}]{p,  }\item[{}]{m }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{13 \textcolor{keyword}{def }\mbox{\hyperlink{namespaceccl__generator_ac183280445c279cd3f1895ffdbf93ee2}{neighbourhood}}(p, m):}
\DoxyCodeLine{14     \textcolor{keywordflow}{return} [}
\DoxyCodeLine{15         (x, y)}
\DoxyCodeLine{16         \textcolor{keywordflow}{for} (x, y) \textcolor{keywordflow}{in} [}
\DoxyCodeLine{17             (p[0] + 1, p[1]),}
\DoxyCodeLine{18             (p[0] -\/ 1, p[1]),}
\DoxyCodeLine{19             (p[0] + 1, p[1] -\/ 1),}
\DoxyCodeLine{20             (p[0] -\/ 1, p[1] -\/ 1),}
\DoxyCodeLine{21             (p[0] + 1, p[1] + 1),}
\DoxyCodeLine{22             (p[0] -\/ 1, p[1] + 1),}
\DoxyCodeLine{23             (p[0], p[1] -\/ 1),}
\DoxyCodeLine{24             (p[0], p[1] + 1),}
\DoxyCodeLine{25         ]}
\DoxyCodeLine{26         \textcolor{keywordflow}{if} x >= 0 \textcolor{keywordflow}{and} y >= 0 \textcolor{keywordflow}{and} x < m \textcolor{keywordflow}{and} y < m}
\DoxyCodeLine{27     ]}
\DoxyCodeLine{28 }
\DoxyCodeLine{29 }

\end{DoxyCode}


Referenced by generate\+\_\+file().

\mbox{\Hypertarget{namespaceccl__generator_aa34bd9a7794bb4e63e1f3e956e097e4a}\label{namespaceccl__generator_aa34bd9a7794bb4e63e1f3e956e097e4a}} 
\index{ccl\_generator@{ccl\_generator}!rand@{rand}}
\index{rand@{rand}!ccl\_generator@{ccl\_generator}}
\doxysubsubsection{\texorpdfstring{rand()}{rand()}}
{\footnotesize\ttfamily def ccl\+\_\+generator.\+rand (\begin{DoxyParamCaption}\item[{}]{d }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{30 \textcolor{keyword}{def }\mbox{\hyperlink{namespaceccl__generator_aa34bd9a7794bb4e63e1f3e956e097e4a}{rand}}(d):}
\DoxyCodeLine{31     \textcolor{keywordflow}{return} int(round(d.rvs()))}
\DoxyCodeLine{32 }
\DoxyCodeLine{33 }

\end{DoxyCode}


Referenced by generate\+\_\+file(), traccc.\+throughput\+\_\+mt(), and traccc.\+throughput\+\_\+st().



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{namespaceccl__generator_a66ef21188ab18963b6e228c9ad7ea4a0}\label{namespaceccl__generator_a66ef21188ab18963b6e228c9ad7ea4a0}} 
\index{ccl\_generator@{ccl\_generator}!args@{args}}
\index{args@{args}!ccl\_generator@{ccl\_generator}}
\doxysubsubsection{\texorpdfstring{args}{args}}
{\footnotesize\ttfamily ccl\+\_\+generator.\+args = parser.\+parse\+\_\+args()}



Referenced by traccc\+::futhark\+::wrapper$<$ T, std\+::tuple$<$ I\+Args... $>$, std\+::tuple$<$ O\+Args... $>$ $>$.\+run(), and traccc\+::futhark\+::wrapper$<$ T, std\+::tuple$<$ I\+Args... $>$, std\+::tuple$<$ O\+Args... $>$ $>$.\+run\+\_\+helper().

\mbox{\Hypertarget{namespaceccl__generator_adf372ad6b035b7543edb58ee1131b9b2}\label{namespaceccl__generator_adf372ad6b035b7543edb58ee1131b9b2}} 
\index{ccl\_generator@{ccl\_generator}!cell\_dist@{cell\_dist}}
\index{cell\_dist@{cell\_dist}!ccl\_generator@{ccl\_generator}}
\doxysubsubsection{\texorpdfstring{cell\_dist}{cell\_dist}}
{\footnotesize\ttfamily ccl\+\_\+generator.\+cell\+\_\+dist = scipy.\+stats.\+lognorm(args.\+Hs, scale=math.\+exp(args.\+Hm))}

\mbox{\Hypertarget{namespaceccl__generator_af03a71dc24f6c86cc6d43d6e5677630e}\label{namespaceccl__generator_af03a71dc24f6c86cc6d43d6e5677630e}} 
\index{ccl\_generator@{ccl\_generator}!default@{default}}
\index{default@{default}!ccl\_generator@{ccl\_generator}}
\doxysubsubsection{\texorpdfstring{default}{default}}
{\footnotesize\ttfamily ccl\+\_\+generator.\+default}

\mbox{\Hypertarget{namespaceccl__generator_a01e58e8324d8b3ac31382f4cea4e9cfa}\label{namespaceccl__generator_a01e58e8324d8b3ac31382f4cea4e9cfa}} 
\index{ccl\_generator@{ccl\_generator}!help@{help}}
\index{help@{help}!ccl\_generator@{ccl\_generator}}
\doxysubsubsection{\texorpdfstring{help}{help}}
{\footnotesize\ttfamily ccl\+\_\+generator.\+help}

\mbox{\Hypertarget{namespaceccl__generator_a3fd543c9861ac96c8f0d0cc7aef842c8}\label{namespaceccl__generator_a3fd543c9861ac96c8f0d0cc7aef842c8}} 
\index{ccl\_generator@{ccl\_generator}!hits\_dist@{hits\_dist}}
\index{hits\_dist@{hits\_dist}!ccl\_generator@{ccl\_generator}}
\doxysubsubsection{\texorpdfstring{hits\_dist}{hits\_dist}}
{\footnotesize\ttfamily ccl\+\_\+generator.\+hits\+\_\+dist = scipy.\+stats.\+lognorm(args.\+Ms, scale=math.\+exp(args.\+Mm))}

\mbox{\Hypertarget{namespaceccl__generator_a6d28b6eb5e17cb18c30272a15ecebce2}\label{namespaceccl__generator_a6d28b6eb5e17cb18c30272a15ecebce2}} 
\index{ccl\_generator@{ccl\_generator}!parser@{parser}}
\index{parser@{parser}!ccl\_generator@{ccl\_generator}}
\doxysubsubsection{\texorpdfstring{parser}{parser}}
{\footnotesize\ttfamily ccl\+\_\+generator.\+parser = argparse.\+Argument\+Parser(description=\char`\"{}Generate some C\+CL examples\char`\"{})}

\mbox{\Hypertarget{namespaceccl__generator_a9abe607cc33aa5d2221eab7f9b589df2}\label{namespaceccl__generator_a9abe607cc33aa5d2221eab7f9b589df2}} 
\index{ccl\_generator@{ccl\_generator}!type@{type}}
\index{type@{type}!ccl\_generator@{ccl\_generator}}
\doxysubsubsection{\texorpdfstring{type}{type}}
{\footnotesize\ttfamily ccl\+\_\+generator.\+type}



Referenced by traccc\+::device\+::container\+\_\+d2h\+\_\+copy\+\_\+alg$<$ C\+O\+N\+T\+A\+I\+N\+E\+R\+\_\+\+T\+Y\+P\+E\+S $>$.\+operator()().

